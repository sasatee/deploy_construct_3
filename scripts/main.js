function k(a,b,c,d){a.o.hb(a.Vb,b,c,d)}function l(a,b,c,d){a.o.qa?k(a,b,c,d):a.o.Hf()._OnMessageFromDOM({type:"event",component:a.Vb,handler:b,dispatchOpts:d||null,data:c,responseId:null})}function aa(a,b,c){a.o.J(a.Vb,b,c)}function ba(a,b){for(const [c,d]of b)aa(a,c,d)}function ca(a){a.Cc||(a.o.je(a.Qe),a.Cc=!0)}window.fb=class{constructor(a,b){this.o=a;this.Vb=b;this.Cc=!1;this.Qe=()=>this.vb()}Zd(){}vb(){}};function da(a){-1!==a.Ud&&(self.clearTimeout(a.Ud),a.Ud=-1)}
window.vg=class{constructor(){this.Ud=-1;this.Yf=!1}ie(){this.Yf||da(this)}j(){da(this)}};"use strict";class ea{constructor(a){this.wd=a;this.Bd=!1;this.Jd=!0}}function fa(a,b){const c=b.elementId,d=a.Wc(c,b),e=new ea(d);a.Zb.set(c,e);d.style.boxSizing="border-box";d.style.display="none";e.Jd=!!b.isVisible;b=a.jd(d);b.addEventListener("focus",()=>{ha(a,"elem-focused",c)});b.addEventListener("blur",()=>{ha(a,"elem-blurred",c)});a.yc&&document.body.appendChild(d)}
function ia(a,b,c){aa(a,b,d=>{const e=n(a,d.elementId);return c(e,d)})}function n(a,b){a=a.Zb.get(b);if(!a)throw Error(`no element with id ${b}`);return a.wd}function ha(a,b,c,d){d||(d={});d.elementId=c;k(a,b,d)}function ja(a,b,c,d){d||(d={});d.elementId=c;l(a,b,d)}
window.de=class extends self.fb{constructor(a,b){super(a,b);this.Zb=new Map;this.yc=!0;ba(this,[["create",c=>fa(this,c)],["destroy",c=>{c=c.elementId;const d=n(this,c);this.yc&&d.parentElement.removeChild(d);this.Zb.delete(c)}],["set-visible",c=>{if(this.yc){var d=this.Zb.get(c.elementId),e=d.wd;d.Bd?e.style.display=c.isVisible?"":"none":d.Jd=!!c.isVisible}}],["update-position",c=>{if(this.yc){var d=this.Zb.get(c.elementId),e=d.wd;e.style.left=c.left+"px";e.style.top=c.top+"px";e.style.width=c.width+
"px";e.style.height=c.height+"px";c=c.fontSize;null!==c&&(e.style.fontSize=c+"em");d.Bd||(d.Bd=!0,d.Jd&&(e.style.display=""))}}],["update-state",c=>{const d=n(this,c.elementId);this.Sb(d,c)}],["focus",c=>this.pd(c)],["set-css-style",c=>{const d=n(this,c.elementId),e=c.prop;c=c.val;e.startsWith("--")?d.style.setProperty(e,c):d.style[e]=c}],["set-attribute",c=>{n(this,c.elementId).setAttribute(c.name,c.val)}],["remove-attribute",c=>{n(this,c.elementId).removeAttribute(c.name)}]]);ia(this,"get-element",
c=>c)}Wc(){throw Error("required override");}Sb(){throw Error("required override");}jd(a){return a}pd(a){const b=this.jd(n(this,a.elementId));a.focus?b.focus():b.blur()}};"use strict";const ka=/(iphone|ipod|ipad|macos|macintosh|mac os x)/i.test(navigator.userAgent),la=/android/i.test(navigator.userAgent),ma=/safari/i.test(navigator.userAgent)&&!/(chrome|chromium|edg\/|OPR\/|nwjs)/i.test(navigator.userAgent);let na=0;
function oa(a){const b=document.createElement("script");b.async=!1;b.type="module";return a.ig?new Promise(c=>{const d="c3_resolve_"+na;++na;self[d]=c;b.textContent=a.pg+`\n\nself["${d}"]();`;document.head.appendChild(b)}):new Promise((c,d)=>{b.onload=c;b.onerror=d;b.src=a;document.head.appendChild(b)})}let pa=!1,qa=!1;function ra(){if(!pa){try{new Worker("blob://",{get type(){qa=!0}})}catch(a){}pa=!0}return qa}let p=new Audio;
const ta={"audio/webm; codecs=opus":!!p.canPlayType("audio/webm; codecs=opus"),"audio/ogg; codecs=opus":!!p.canPlayType("audio/ogg; codecs=opus"),"audio/webm; codecs=vorbis":!!p.canPlayType("audio/webm; codecs=vorbis"),"audio/ogg; codecs=vorbis":!!p.canPlayType("audio/ogg; codecs=vorbis"),"audio/mp4":!!p.canPlayType("audio/mp4"),"audio/mpeg":!!p.canPlayType("audio/mpeg")};p=null;async function ua(a){a=await va(a);return(new TextDecoder("utf-8")).decode(a)}
function va(a){return new Promise((b,c)=>{const d=new FileReader;d.onload=e=>b(e.target.result);d.onerror=e=>c(e);d.readAsArrayBuffer(a)})}const wa=[];let xa=0;window.RealFile=window.File;const ya=[],za=new Map,Aa=new Map;let Ba=0;const Ca=[];self.runOnStartup=function(a){if("function"!==typeof a)throw Error("runOnStartup called without a function");Ca.push(a)};const Da=new Set(["cordova","playable-ad","instant-games"]);let Ea=!1;
window.sa=class a{constructor(b){this.qa=b.rg;this.$a=null;this.pa="";this.Kb=b.ng;this.mc={};this.Db=this.Ta=null;this.Ac=[];this.V=this.Ia=null;this.Gd=!1;this.xe=0;this.bc=null;this.Jb=-1;this.dg=()=>this.Pf();this.Ib=[];this.Wd=null;this.Re=[];this.B=b.Se;this.Dc="file"===location.protocol.substr(0,4);!this.qa||"undefined"!==typeof OffscreenCanvas&&navigator.userActivation&&ra()||(this.qa=!1);this.qa&&ma&&(this.qa=!1);if("playable-ad"===this.B||"instant-games"===this.B)this.qa=!1;if("cordova"===
this.B&&this.qa)if(la){const c=/Chrome\/(\d+)/i.exec(navigator.userAgent);c&&90<=parseInt(c[1],10)||(this.qa=!1)}else this.qa=!1;this.Wa()?self.chrome.webview.addEventListener("message",c=>this.oe(c.data)):"macos-wkwebview"===this.B&&(self.C3WrapperOnMessage=c=>this.oe(c));this.Fc=this.Pa=null;"html5"!==this.B||window.isSecureContext||console.warn("[Construct] Warning: the browser indicates this is not a secure context. Some features may be unavailable. Use secure (HTTPS) hosting to ensure all features are available.");
this.J("runtime","cordova-fetch-local-file",c=>this.Lf(c));this.J("runtime","create-job-worker",()=>this.Mf());this.J("runtime","send-wrapper-extension-message",c=>this.Sf(c));"cordova"===this.B?document.addEventListener("deviceready",()=>this.me(b)):this.me(b)}j(){this.gd();this.$a&&(this.$a=this.$a.onmessage=null);this.Ta&&(this.Ta.terminate(),this.Ta=null);this.Db&&(this.Db.j(),this.Db=null);this.V&&(this.V.parentElement.removeChild(this.V),this.V=null)}uf(){return ka&&"cordova"===this.B}bd(){const b=
navigator.userAgent;return ka&&Da.has(this.B)||navigator.standalone||/crios\/|fxios\/|edgios\//i.test(b)}sf(){return la}fe(){return la&&Da.has(this.B)}Wa(){return"windows-webview2"===this.B||!!("preview"===this.B&&window.chrome&&window.chrome.webview&&window.chrome.webview.postMessage)}async me(b){"macos-wkwebview"===this.B?this.lb({type:"ready"}):this.Wa()&&(this.Vf(),this.Re=(await this.Kf()).registeredComponentIds);if("playable-ad"===this.B){this.Pa=self.c3_base64files;this.Fc={};await this.Df();
for(let d=0,e=b.Mb.length;d<e;++d){var c=b.Mb[d];this.Fc.hasOwnProperty(c)?b.Mb[d]={ig:!0,pg:this.Fc[c]}:this.Pa.hasOwnProperty(c)&&(b.Mb[d]=URL.createObjectURL(this.Pa[c]))}b.Uc=[]}if("nwjs"===this.B&&self.nw&&self.nw.App.manifest["c3-steam-mode"]){let d=0;this.je(()=>{d++;document.body.style.opacity=0===d%2?"1":"0.999"})}b.mg?this.pa=b.mg:(c=location.origin,this.pa=("null"===c?"file:///":c)+location.pathname,c=this.pa.lastIndexOf("/"),-1!==c&&(this.pa=this.pa.substr(0,c+1)));b.tg&&(this.mc=b.tg);
c=new MessageChannel;this.$a=c.port1;this.$a.onmessage=d=>this._OnMessageFromRuntime(d.data);window.c3_addPortMessageHandler&&window.c3_addPortMessageHandler(d=>this.Of(d));this.bc=new self.vf(this);await Fa(this.bc);"object"===typeof window.StatusBar&&window.StatusBar.hide();if("object"===typeof window.AndroidFullScreen)try{await new Promise((d,e)=>{window.AndroidFullScreen.immersiveMode(d,e)})}catch(d){console.error("Failed to enter Android immersive mode: ",d)}this.qa?await this.Jf(b,c.port2):
await this.If(b,c.port2)}kd(b){b=this.mc.hasOwnProperty(b)?this.mc[b]:b.endsWith("/workermain.js")&&this.mc.hasOwnProperty("workermain.js")?this.mc["workermain.js"]:"playable-ad"===this.B&&this.Pa.hasOwnProperty(b)?this.Pa[b]:b;b instanceof Blob&&(b=URL.createObjectURL(b));return b}async Xc(b,c,d){if(b.startsWith("blob:"))return new Worker(b,d);if("cordova"===this.B&&this.Dc)return b=await this.nc(d.hg?b:this.Kb+b),new Worker(URL.createObjectURL(new Blob([b],{type:"application/javascript"})),d);b=
new URL(b,c);if(location.origin!==b.origin){b=await fetch(b);if(!b.ok)throw Error("failed to fetch worker script");b=await b.blob();return new Worker(URL.createObjectURL(b),d)}return new Worker(b,d)}Ma(){return Math.max(window.innerWidth,1)}Ba(){return Math.max(window.innerHeight,1)}le(b){var c=this.pa,d=location.href,e=this.Ma(),f=this.Ba(),g=window.devicePixelRatio,h=a.Qb(),m=b.Ag,t=window.cr_previewImageBlobs||this.Pa,v=window.cr_previewProjectFileBlobs,T=window.cr_previewProjectFiles,O=window.cr_swClientId||
"";b=b.Se;var E=(new URLSearchParams(self.location.search)).has("debug"),U=this.bc;return{runtimeBaseUrl:c,previewUrl:d,windowInnerWidth:e,windowInnerHeight:f,devicePixelRatio:g,isFullscreen:h,projectData:m,previewImageBlobs:t,previewProjectFileBlobs:v,previewProjectFileSWUrls:T,swClientId:O,exportType:b,isDebug:E,ife:!!self.zg,jobScheduler:{inputPort:U.Fd,outputPort:U.Pd,maxNumWorkers:U.$f},supportedAudioFormats:ta,opusWasmScriptUrl:window.cr_opusWasmScriptUrl||this.Kb+"opus.wasm.js",opusWasmBinaryUrl:window.cr_opusWasmBinaryUrl||
this.Kb+"opus.wasm.wasm",isFileProtocol:this.Dc,isiOSCordova:this.uf(),isiOSWebView:this.bd(),isWebView2Wrapper:this.Wa(),wrapperComponentIds:this.Re,isFBInstantAvailable:"undefined"!==typeof self.FBInstant}}async Jf(b,c){const d=this.kd(b.sg);"preview"===this.B?(this.Ta=new Worker("previewworker.js",{type:"module",name:"Runtime"}),await new Promise((h,m)=>{const t=v=>{this.Ta.removeEventListener("message",t);v.data&&"ok"===v.data.type?h():m()};this.Ta.addEventListener("message",t);this.Ta.postMessage({type:"construct-worker-init",
"import":(new URL(d,this.pa)).toString()})})):this.Ta=await this.Xc(d,this.pa,{type:"module",name:"Runtime",hg:!0});this.V=document.createElement("canvas");this.V.style.display="none";const e=this.V.transferControlToOffscreen();document.body.appendChild(this.V);window.c3canvas=this.V;self.C3_InsertHTMLPlaceholders&&self.C3_InsertHTMLPlaceholders();let f=b.Uc||[],g=b.Mb;f=await Promise.all(f.map(h=>this.wb(h)));g=await Promise.all(g.map(h=>this.wb(h)));if("cordova"===this.B)for(let h=0,m=b.Tc.length;h<
m;++h){const t=b.Tc[h],v=t[0];if(v===b.Xd||"scriptsInEvents.js"===v||v.endsWith("/scriptsInEvents.js"))t[1]=await this.wb(v)}this.Ta.postMessage(Object.assign(this.le(b),{type:"init-runtime",isInWorker:!0,messagePort:c,canvas:e,workerDependencyScripts:f,engineScripts:g,projectScripts:b.Tc,mainProjectScript:b.Xd,projectScriptsStatus:self.C3_ProjectScriptsStatus}),[c,e,...Ga(this.bc)]);this.Ac=ya.map(h=>new h(this));this.ke();Ha(this.Ia);self.c3_callFunction=(h,m)=>{var t=this.Ia;return t.o.he(t.Vb,
"js-invoke-function",{name:h,params:m})};"preview"===this.B&&(self.goToLastErrorScript=()=>this.hb("runtime","go-to-last-error-script"))}async If(b,c){this.V=document.createElement("canvas");this.V.style.display="none";document.body.appendChild(this.V);window.c3canvas=this.V;self.C3_InsertHTMLPlaceholders&&self.C3_InsertHTMLPlaceholders();this.Ac=ya.map(g=>new g(this));this.ke();var d=b.Mb.map(g=>"string"===typeof g?(new URL(g,this.pa)).toString():g);if(Array.isArray(b.Uc)){var e=[...b.Uc].map(g=>
g instanceof Blob?URL.createObjectURL(g):g);d.unshift(...e)}d=await Promise.all(d.map(g=>this.wb(g)));await Promise.all(d.map(g=>oa(g)));d=self.C3_ProjectScriptsStatus;e=b.Xd;const f=b.Tc;for(let [g,h]of f)if(h||(h=g),g===e)try{h=await this.wb(h),await oa(h),"preview"!==this.B||d[g]||this.pe(g,"main script did not run to completion")}catch(m){this.pe(g,m)}else if("scriptsInEvents.js"===g||g.endsWith("/scriptsInEvents.js"))h=await this.wb(h),await oa(h);"preview"===this.B&&"object"!==typeof self.ug.wg?
(this.tc(),console.error("[C3 runtime] Failed to load JavaScript code used in events. Check all your JavaScript code has valid syntax."),alert("Failed to load JavaScript code used in events. Check all your JavaScript code has valid syntax.")):(b=Object.assign(this.le(b),{isInWorker:!1,messagePort:c,canvas:this.V,runOnStartupFunctions:Ca}),Ha(this.Ia),this.ne(),this.Db=self.C3_CreateRuntime(b),await self.C3_InitRuntime(this.Db,b))}pe(b,c){this.tc();console.error(`[Preview] Failed to load project main script (${b}): `,
c);alert(`Failed to load project main script (${b}). Check all your JavaScript code has valid syntax. Press F12 and check the console for error details.`)}ne(){this.tc()}tc(){const b=window.cr_previewLoadingElem;b&&(b.parentElement.removeChild(b),window.cr_previewLoadingElem=null)}async Mf(){const b=await Ia(this.bc);return{outputPort:b,transferables:[b]}}Hf(){if(this.qa)throw Error("not available in worker mode");return this.Db}hb(b,c,d,e,f){this.$a.postMessage({type:"event",component:b,handler:c,
dispatchOpts:e||null,data:d,responseId:null},f)}he(b,c,d,e,f){const g=Ba++,h=new Promise((m,t)=>{Aa.set(g,{resolve:m,reject:t})});this.$a.postMessage({type:"event",component:b,handler:c,dispatchOpts:e||null,data:d,responseId:g},f);return h}_OnMessageFromRuntime(b){const c=b.type;if("event"===c)return this.Nf(b);if("result"===c)this.Qf(b);else if("runtime-ready"===c)this.Rf();else if("alert-error"===c)this.tc(),alert(b.message);else if("creating-runtime"===c)this.ne();else throw Error(`unknown message '${c}'`);
}Nf(b){const c=b.component,d=b.handler,e=b.data,f=b.responseId;if(b=za.get(c))if(b=b.get(d)){var g=null;try{g=b(e)}catch(h){console.error(`Exception in '${c}' handler '${d}':`,h);null!==f&&this.sc(f,!1,""+h);return}if(null===f)return g;g&&g.then?g.then(h=>this.sc(f,!0,h)).catch(h=>{console.error(`Rejection from '${c}' handler '${d}':`,h);this.sc(f,!1,""+h)}):this.sc(f,!0,g)}else console.warn(`[DOM] No handler '${d}' for component '${c}'`);else console.warn(`[DOM] No event handlers for component '${c}'`)}sc(b,
c,d){let e;d&&d.transferables&&(e=d.transferables);this.$a.postMessage({type:"result",responseId:b,isOk:c,result:d},e)}Qf(b){const c=b.responseId,d=b.isOk;b=b.result;const e=Aa.get(c);d?e.resolve(b):e.reject(b);Aa.delete(c)}J(b,c,d){let e=za.get(b);e||(e=new Map,za.set(b,e));if(e.has(c))throw Error(`[DOM] Component '${b}' already has handler '${c}'`);e.set(c,d)}static Ua(b){if(ya.includes(b))throw Error("DOM handler already added");ya.push(b)}ke(){for(const b of this.Ac)if("runtime"===b.Vb){this.Ia=
b;return}throw Error("cannot find runtime DOM handler");}Of(b){this.hb("debugger","message",b)}Rf(){for(const b of this.Ac)b.Zd()}static Qb(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||Ea)}static uc(b){Ea=!!b}je(b){this.Ib.push(b);this.rd()}Uf(b){b=this.Ib.indexOf(b);if(-1===b)throw Error("invalid callback");this.Ib.splice(b,1);this.Ib.length||this.gd()}rd(){-1===this.Jb&&this.Ib.length&&(this.Jb=requestAnimationFrame(this.dg))}gd(){-1!==
this.Jb&&(cancelAnimationFrame(this.Jb),this.Jb=-1)}Pf(){this.Jb=-1;for(const b of this.Ib)b();this.rd()}kb(b){this.Ia.kb(b)}ub(b){this.Ia.ub(b)}qd(){this.Ia.qd()}rc(b){this.Ia.rc(b)}tf(){return!!ta["audio/webm; codecs=opus"]}async Wf(b){b=await this.he("runtime","opus-decode",{arrayBuffer:b},null,[b]);return new Float32Array(b)}yf(b){this.Gd=!0;this.xe=b}rf(b){return/^(?:[a-z\-]+:)?\/\//.test(b)||"data:"===b.substr(0,5)||"blob:"===b.substr(0,5)}ge(b){return!this.rf(b)}async wb(b){return"cordova"===
this.B&&(b.startsWith("file:")||this.Dc&&this.ge(b))?(b.startsWith(this.pa)&&(b=b.substr(this.pa.length)),b=await this.nc(b),URL.createObjectURL(new Blob([b],{type:"application/javascript"}))):b}async Lf(b){const c=b.filename;switch(b.as){case "text":return await this.pf(c);case "buffer":return await this.nc(c);default:throw Error("unsupported type");}}ce(b){const c=window.cordova.file.applicationDirectory+"www/"+b;return new Promise((d,e)=>{window.resolveLocalFileSystemURL(c,f=>{f.file(d,e)},e)})}async pf(b){b=
await this.ce(b);return await ua(b)}hd(){if(wa.length&&!(8<=xa)){xa++;var b=wa.shift();this.Ef(b.filename,b.qg,b.gg)}}nc(b){return new Promise((c,d)=>{wa.push({filename:b,qg:e=>{xa--;this.hd();c(e)},gg:e=>{xa--;this.hd();d(e)}});this.hd()})}async Ef(b,c,d){try{const e=await this.ce(b),f=await va(e);c(f)}catch(e){d(e)}}oe(b){if("entered-fullscreen"===b)a.uc(!0),Ja(this.Ia);else if("exited-fullscreen"===b)a.uc(!1),Ja(this.Ia);else if("object"===typeof b){const c=b.type;"wrapper-init-response"===c?(this.Wd(b),
this.Wd=null):"extension-message"===c?this.hb("runtime","wrapper-extension-message",b):console.warn("Unknown wrapper message: ",b)}else console.warn("Unknown wrapper message: ",b)}Sf(b){this.lb({type:"extension-message",componentId:b.componentId,messageId:b.messageId,params:b.params||[],asyncId:b.asyncId})}lb(b){this.Wa()?window.chrome.webview.postMessage(JSON.stringify(b)):"macos-wkwebview"===this.B&&window.webkit.messageHandlers.C3Wrapper.postMessage(JSON.stringify(b))}Vf(){window.moveTo=(b,c)=>
{this.lb({type:"set-window-position",windowX:Math.ceil(b),windowY:Math.ceil(c)})};window.resizeTo=(b,c)=>{this.lb({type:"set-window-size",windowWidth:Math.ceil(b),windowHeight:Math.ceil(c)})}}Kf(){return this.Wa()?new Promise(b=>{this.Wd=b;this.lb({type:"wrapper-init"})}):Promise.resolve()}async Df(){const b=[];for(const [c,d]of Object.entries(this.Pa))b.push(this.Cf(c,d));await Promise.all(b)}async Cf(b,c){if("object"===typeof c)this.Pa[b]=new Blob([c.str],{type:c.type}),this.Fc[b]=c.str;else{let d=
await this.Gf(c);d||(d=this.Ff(c));this.Pa[b]=d}}async Gf(b){try{return await (await fetch(b)).blob()}catch(c){return console.warn("Failed to fetch a data: URI. Falling back to a slower workaround. This is probably because the Content Security Policy unnecessarily blocked it. Allow data: URIs in your CSP to avoid this.",c),null}}Ff(b){b=this.Tf(b);return this.Bf(b.data,b.jg)}Tf(b){var c=b.indexOf(",");if(0>c)throw new URIError("expected comma in data: uri");var d=b.substring(c+1);c=b.substring(5,
c).split(";");b=c[0]||"";const e=c[2];d="base64"===c[1]||"base64"===e?atob(d):decodeURIComponent(d);return{jg:b,data:d}}Bf(b,c){var d=b.length;let e=d>>2,f=new Uint8Array(d),g=new Uint32Array(f.buffer,0,e),h,m;for(m=h=0;h<e;++h)g[h]=b.charCodeAt(m++)|b.charCodeAt(m++)<<8|b.charCodeAt(m++)<<16|b.charCodeAt(m++)<<24;for(d&=3;d--;)f[m]=b.charCodeAt(m),++m;return new Blob([f],{type:c})}};"use strict";const Ka=self.sa;
function La(a){return a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents||a.originalEvent&&a.originalEvent.sourceCapabilities&&a.originalEvent.sourceCapabilities.firesTouchEvents}const Ma=new Map([["OSLeft","MetaLeft"],["OSRight","MetaRight"]]),q={dispatchRuntimeEvent:!0,dispatchUserScriptEvent:!0},Na={dispatchUserScriptEvent:!0},Oa={dispatchRuntimeEvent:!0};
function Pa(a){return new Promise((b,c)=>{const d=document.createElement("link");d.onload=()=>b(d);d.onerror=e=>c(e);d.rel="stylesheet";d.href=a;document.head.appendChild(d)})}function Qa(a){return new Promise((b,c)=>{const d=new Image;d.onload=()=>b(d);d.onerror=e=>c(e);d.src=a})}async function Ra(a){a=URL.createObjectURL(a);try{return await Qa(a)}finally{URL.revokeObjectURL(a)}}
function Sa(a){return new Promise((b,c)=>{let d=new FileReader;d.onload=e=>b(e.target.result);d.onerror=e=>c(e);d.readAsText(a)})}
async function Ta(a,b,c){if(!/firefox/i.test(navigator.userAgent))return await Ra(a);var d=await Sa(a);d=(new DOMParser).parseFromString(d,"image/svg+xml");const e=d.documentElement;if(e.hasAttribute("width")&&e.hasAttribute("height")){const f=e.getAttribute("width"),g=e.getAttribute("height");if(!f.includes("%")&&!g.includes("%"))return await Ra(a)}e.setAttribute("width",b+"px");e.setAttribute("height",c+"px");d=(new XMLSerializer).serializeToString(d);a=new Blob([d],{type:"image/svg+xml"});return await Ra(a)}
function Ua(a){do{if(a.parentNode&&a.hasAttribute("contenteditable"))return!0;a=a.parentNode}while(a);return!1}const Va=new Set(["input","textarea","datalist","select"]),Wa=new Set(["canvas","body","html"]);function r(a){a.target.tagName&&Wa.has(a.target.tagName.toLowerCase())&&a.preventDefault()}function Xa(a){(a.metaKey||a.ctrlKey)&&a.preventDefault()}
self.C3_GetSvgImageSize=async function(a){a=await Ra(a);if(0<a.width&&0<a.height)return[a.width,a.height];a.style.position="absolute";a.style.left="0px";a.style.top="0px";a.style.visibility="hidden";document.body.appendChild(a);const b=a.getBoundingClientRect();document.body.removeChild(a);return[b.width,b.height]};self.C3_RasterSvgImageBlob=async function(a,b,c,d,e){a=await Ta(a,b,c);const f=document.createElement("canvas");f.width=d;f.height=e;f.getContext("2d").drawImage(a,0,0,b,c);return f};
let Ya=!1;document.addEventListener("pause",()=>Ya=!0);document.addEventListener("resume",()=>Ya=!1);function Ha(a){a.we=!0;a.Ld=a.o.Ma();a.cc=a.o.Ba()}function Ja(a){if(!a.na){var b=Ka.Qb();b&&"any"!==a.Sd&&Za(a);k(a,"fullscreenchange",{isFullscreen:b,innerWidth:a.Ma(),innerHeight:a.Ba()})}}async function $a(a){await Promise.all(a.webfonts.map(async b=>{b=new FontFace(b.name,`url('${b.url}')`);document.fonts.add(b);await b.load()}))}
async function db(a){var b=a.imageBitmapOpts;a=await self.C3_RasterSvgImageBlob(a.blob,a.imageWidth,a.imageHeight,a.surfaceWidth,a.surfaceHeight);b=b?await createImageBitmap(a,b):await createImageBitmap(a);return{imageBitmap:b,transferables:[b]}}async function eb(a){return await self.C3_GetSvgImageSize(a.blob)}function gb(a){window.c3_postToMessagePort&&(a.from="runtime",window.c3_postToMessagePort(a))}
function hb(a){self.setTimeout(()=>{a.ve=!0},1E3);"cordova"===a.o.B?(document.addEventListener("pause",()=>ib(a,!0)),document.addEventListener("resume",()=>ib(a,!1))):document.addEventListener("visibilitychange",()=>ib(a,"hidden"===document.visibilityState));a.Jc=!("hidden"!==document.visibilityState&&!Ya);return{isSuspended:a.Jc}}
function jb(a){a.re||(a.re=!0,window.addEventListener("deviceorientation",b=>{a.na||k(a,"deviceorientation",{absolute:!!b.absolute,alpha:b.alpha||0,beta:b.beta||0,gamma:b.gamma||0,timeStamp:b.timeStamp,webkitCompassHeading:b.webkitCompassHeading,webkitCompassAccuracy:b.webkitCompassAccuracy},q)}),window.addEventListener("deviceorientationabsolute",b=>{a.na||k(a,"deviceorientationabsolute",{absolute:!!b.absolute,alpha:b.alpha||0,beta:b.beta||0,gamma:b.gamma||0,timeStamp:b.timeStamp},q)}))}
function kb(a){a.qe||(a.qe=!0,window.addEventListener("devicemotion",b=>{if(!a.na){var c=null,d=b.acceleration;d&&(c={x:d.x||0,y:d.y||0,z:d.z||0});d=null;var e=b.accelerationIncludingGravity;e&&(d={x:e.x||0,y:e.y||0,z:e.z||0});e=null;var f=b.rotationRate;f&&(e={alpha:f.alpha||0,beta:f.beta||0,gamma:f.gamma||0});k(a,"devicemotion",{acceleration:c,accelerationIncludingGravity:d,rotationRate:e,interval:b.interval,timeStamp:b.timeStamp},q)}}))}async function lb(a){await Pa(a.url)}
function mb(a,b){a.ye=b.message;-1===a.xd&&(a.xd=setTimeout(()=>{a.xd=-1;const c=document.getElementById("exportToVideoMessage");c&&(c.textContent=a.ye)},250))}function nb(a,b){console.warn("[Construct] Fullscreen request failed: ",b);k(a,"fullscreenerror",{isFullscreen:Ka.Qb(),innerWidth:a.Ma(),innerHeight:a.Ba()})}function ib(a,b){a.Jc!==b&&((a.Jc=b)?a.o.gd():a.o.rd(),k(a,"visibilitychange",{hidden:b}))}
function ob(a,b,c){"Backspace"===c.key&&r(c);if(!a.na){var d=Ma.get(c.code)||c.code;l(a,b,{code:d,key:c.key,which:c.which,repeat:c.repeat,altKey:c.altKey,ctrlKey:c.ctrlKey,metaKey:c.metaKey,shiftKey:c.shiftKey,timeStamp:c.timeStamp},q)}}function pb(a,b,c,d){a.na||La(c)||l(a,b,{button:c.button,buttons:c.buttons,clientX:c.clientX,clientY:c.clientY+a.ra,pageX:c.pageX,pageY:c.pageY+a.ra,movementX:c.movementX||0,movementY:c.movementY||0,timeStamp:c.timeStamp},d)}
function qb(a){window!==window.top&&window.focus();rb(a.target)&&document.activeElement&&!rb(document.activeElement)&&document.activeElement.blur()}
function sb(a,b,c){if(!a.na){var d=0;"mouse"===c.pointerType&&(d=a.hc);l(a,b,{pointerId:c.pointerId,pointerType:c.pointerType,button:c.button,buttons:c.buttons,lastButtons:d,clientX:c.clientX,clientY:c.clientY+a.ra,pageX:c.pageX,pageY:c.pageY+a.ra,movementX:c.movementX||0,movementY:c.movementY||0,width:c.width||0,height:c.height||0,pressure:c.pressure||0,tangentialPressure:c.tangentialPressure||0,tiltX:c.tiltX||0,tiltY:c.tiltY||0,twist:c.twist||0,timeStamp:c.timeStamp},q);"mouse"===c.pointerType&&
(d="mousemove","pointerdown"===b?d="mousedown":"pointerup"===b&&(d="mouseup"),pb(a,d,c,Na),a.hc=c.buttons)}}
function tb(a,b,c){if(!a.na&&!La(c)){var d=a.hc;"pointerdown"===b&&0!==d?b="pointermove":"pointerup"===b&&0!==c.buttons&&(b="pointermove");l(a,b,{pointerId:1,pointerType:"mouse",button:c.button,buttons:c.buttons,lastButtons:d,clientX:c.clientX,clientY:c.clientY+a.ra,pageX:c.pageX,pageY:c.pageY+a.ra,movementX:c.movementX||0,movementY:c.movementY||0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,timeStamp:c.timeStamp},q);a.hc=c.buttons;pb(a,c.type,c,Na)}}
function ub(a,b,c){if(!a.na)for(let d=0,e=c.changedTouches.length;d<e;++d){const f=c.changedTouches[d];l(a,b,{pointerId:f.identifier,pointerType:"touch",button:0,buttons:0,lastButtons:0,clientX:f.clientX,clientY:f.clientY+a.ra,pageX:f.pageX,pageY:f.pageY+a.ra,movementX:c.movementX||0,movementY:c.movementY||0,width:2*(f.radiusX||f.webkitRadiusX||0),height:2*(f.radiusY||f.webkitRadiusY||0),pressure:f.force||f.webkitForce||0,tangentialPressure:0,tiltX:0,tiltY:0,twist:f.rotationAngle||0,timeStamp:c.timeStamp},
q)}}function vb(a,b,c){document.body.style.transform="";a.ra=0;if(0<c){var d=document.activeElement;d&&(d=d.getBoundingClientRect(),b=(d.top+d.bottom)/2-(b-c)/2,b>c&&(b=c),0>b&&(b=0),0<b&&(document.body.style.transform=`translateY(${-b}px)`,a.ra=b))}}function wb(a,b,c,d){const e=a.Ma(),f=a.Ba();a.Lb=-1;e!=b||f!=c?k(a,"window-resize",{innerWidth:e,innerHeight:f,devicePixelRatio:window.devicePixelRatio,isFullscreen:Ka.Qb()}):10>d&&xb(a,e,f,d+1)}
function xb(a,b,c,d){-1!==a.Lb&&clearTimeout(a.Lb);a.Lb=setTimeout(()=>wb(a,b,c,d),48)}
function Za(a){a=a.Sd;if(screen.orientation&&screen.orientation.lock)screen.orientation.lock(a).catch(b=>console.warn("[Construct] Failed to lock orientation: ",b));else try{let b=!1;screen.lockOrientation?b=screen.lockOrientation(a):screen.webkitLockOrientation?b=screen.webkitLockOrientation(a):screen.mozLockOrientation?b=screen.mozLockOrientation(a):screen.msLockOrientation&&(b=screen.msLockOrientation(a));b||console.warn("[Construct] Failed to lock orientation")}catch(b){console.warn("[Construct] Failed to lock orientation: ",
b)}}function rb(a){return!a||a===document||a===window||a===document.body||"canvas"===a.tagName.toLowerCase()}
Ka.Ua(class extends self.fb{constructor(a){super(a,"runtime");this.De=!0;this.we=!1;this.Lb=-1;this.Sd="any";this.Jc=this.qe=this.re=!1;this.Qc=document.createElement("div");this.Qc.className="c3-screen-reader-text";this.Qc.setAttribute("aria-live","polite");document.body.appendChild(this.Qc);this.pb=null;this.na=!1;this.ye="";this.xd=-1;this.ve=!1;this.Ld=a.Ma();this.cc=a.Ba();this.ra=this.lc=0;a.J("canvas","update-size",d=>{var e=this.o;e.Gd||(e=e.V,e.style.width=d.styleWidth+"px",e.style.height=
d.styleHeight+"px",e.style.marginLeft=d.marginLeft+"px",e.style.marginTop=d.marginTop+"px",document.documentElement.style.setProperty("--construct-scale",d.displayScale),this.De&&(e.style.display="",this.De=!1))});a.J("runtime","invoke-download",d=>{const e=d.url;d=d.filename;const f=document.createElement("a"),g=document.body;f.textContent=d;f.href=e;f.download=d;g.appendChild(f);f.click();g.removeChild(f)});a.J("runtime","load-webfonts",d=>$a(d));a.J("runtime","raster-svg-image",d=>db(d));a.J("runtime",
"get-svg-image-size",d=>eb(d));a.J("runtime","set-target-orientation",d=>{this.Sd=d.targetOrientation});a.J("runtime","register-sw",()=>{window.C3_RegisterSW&&window.C3_RegisterSW()});a.J("runtime","post-to-debugger",d=>gb(d));a.J("runtime","go-to-script",d=>gb(d));a.J("runtime","before-start-ticking",()=>hb(this));a.J("runtime","debug-highlight",d=>{if(d.show){this.pb||(this.pb=document.createElement("div"),this.pb.id="inspectOutline",document.body.appendChild(this.pb));var e=this.pb;e.style.display=
"";e.style.left=d.left-1+"px";e.style.top=d.top-1+"px";e.style.width=d.width+2+"px";e.style.height=d.height+2+"px";e.textContent=d.name}else this.pb&&(this.pb.style.display="none")});a.J("runtime","enable-device-orientation",()=>jb(this));a.J("runtime","enable-device-motion",()=>kb(this));a.J("runtime","add-stylesheet",d=>lb(d));a.J("runtime","script-create-worker",d=>{const e=d.port2;(new Worker(d.url,d.opts)).postMessage({type:"construct-worker-init",port2:e},[e])});a.J("runtime","alert",d=>this.nd(d));
a.J("runtime","screen-reader-text",d=>{var e=d.type;"create"===e?(e=document.createElement("p"),e.id="c3-sr-"+d.id,e.textContent=d.text,this.Qc.appendChild(e)):"update"===e?(e=document.getElementById("c3-sr-"+d.id))?e.textContent=d.text:console.warn(`[Construct] Missing screen reader text with id ${d.id}`):"release"===e?(e=document.getElementById("c3-sr-"+d.id))?e.remove():console.warn(`[Construct] Missing screen reader text with id ${d.id}`):console.warn(`[Construct] Unknown screen reader text update '${e}'`)});
a.J("runtime","hide-cordova-splash",()=>{navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide()});a.J("runtime","set-exporting-to-video",d=>{this.na=!0;const e=document.createElement("h1");e.id="exportToVideoMessage";e.textContent=d.message;document.body.prepend(e);document.body.classList.add("exportingToVideo");this.o.V.style.display="";this.o.yf(d.duration)});a.J("runtime","export-to-video-progress",d=>mb(this,d));a.J("runtime","exported-to-video",d=>{window.eg({type:"exported-video",
arrayBuffer:d.arrayBuffer,contentType:d.contentType,time:d.time})});a.J("runtime","exported-to-image-sequence",d=>{window.eg({type:"exported-image-sequence",blobArr:d.blobArr,time:d.time,gif:d.gif})});const b=new Set(["input","textarea","datalist"]);window.addEventListener("contextmenu",d=>{const e=d.target;b.has(e.tagName.toLowerCase())||Ua(e)||d.preventDefault()});const c=a.V;window.addEventListener("selectstart",r);window.addEventListener("gesturehold",r);c.addEventListener("selectstart",r);c.addEventListener("gesturehold",
r);window.addEventListener("touchstart",r,{passive:!1});"undefined"!==typeof PointerEvent?(window.addEventListener("pointerdown",r,{passive:!1}),c.addEventListener("pointerdown",r)):c.addEventListener("touchstart",r);this.hc=0;window.addEventListener("mousedown",d=>{1===d.button&&d.preventDefault()});window.addEventListener("mousewheel",Xa,{passive:!1});window.addEventListener("wheel",Xa,{passive:!1});window.addEventListener("resize",()=>{a:{if(!this.na&&this.we){var d=this.Ma();var e=this.Ba();if(this.o.fe()){if(this.ve){if(this.Ld===
d&&e<this.cc){this.lc=this.cc-e;vb(this,this.cc,this.lc);d=void 0;break a}0<this.lc&&(this.lc=0,vb(this,e,this.lc))}this.Ld=d;this.cc=e}k(this,"window-resize",{innerWidth:d,innerHeight:e,devicePixelRatio:window.devicePixelRatio,isFullscreen:Ka.Qb()});this.o.bd()&&(-1!==this.Lb&&clearTimeout(this.Lb),wb(this,d,e,0))}d=void 0}return d});window.addEventListener("fullscreenchange",()=>Ja(this));window.addEventListener("webkitfullscreenchange",()=>Ja(this));window.addEventListener("mozfullscreenchange",
()=>Ja(this));window.addEventListener("fullscreenerror",d=>nb(this,d));window.addEventListener("webkitfullscreenerror",d=>nb(this,d));window.addEventListener("mozfullscreenerror",d=>nb(this,d));if(a.bd())if(window.visualViewport){let d=Infinity;window.visualViewport.addEventListener("resize",()=>{const e=window.visualViewport.height;e>d&&(document.scrollingElement.scrollTop=0);d=e})}else window.addEventListener("focusout",()=>{{const f=document.activeElement;if(f){var d=f.tagName.toLowerCase();var e=
new Set("email number password search tel text url".split(" "));d="textarea"===d?!0:"input"===d?e.has(f.type.toLowerCase()||"text"):Ua(f)}else d=!1}d||(document.scrollingElement.scrollTop=0)});this.Eb=new Set;this.Hc=new WeakSet;this.Za=!1}Zd(){window.addEventListener("focus",()=>{k(this,"window-focus",null,Oa)});window.addEventListener("blur",()=>{try{var b=window.parent&&window.parent.document.hasFocus()}catch(c){b=!1}k(this,"window-blur",{parentHasFocus:b},Oa);this.hc=0});window.addEventListener("focusin",
b=>{b=b.target;(Va.has(b.tagName.toLowerCase())||Ua(b))&&k(this,"keyboard-blur",null,Oa)});window.addEventListener("keydown",b=>ob(this,"keydown",b));window.addEventListener("keyup",b=>ob(this,"keyup",b));window.addEventListener("dblclick",b=>pb(this,"dblclick",b,q));window.addEventListener("wheel",b=>{this.na||k(this,"wheel",{clientX:b.clientX,clientY:b.clientY+this.ra,pageX:b.pageX,pageY:b.pageY+this.ra,deltaX:b.deltaX,deltaY:b.deltaY,deltaZ:b.deltaZ,deltaMode:b.deltaMode,timeStamp:b.timeStamp},
q)});"undefined"!==typeof PointerEvent?(window.addEventListener("pointerdown",b=>{qb(b);sb(this,"pointerdown",b)}),this.o.qa&&"undefined"!==typeof window.onpointerrawupdate&&self===self.top?window.addEventListener("pointerrawupdate",b=>{sb(this,"pointermove",b)}):window.addEventListener("pointermove",b=>sb(this,"pointermove",b)),window.addEventListener("pointerup",b=>sb(this,"pointerup",b)),window.addEventListener("pointercancel",b=>sb(this,"pointercancel",b))):(window.addEventListener("mousedown",
b=>{qb(b);tb(this,"pointerdown",b)}),window.addEventListener("mousemove",b=>tb(this,"pointermove",b)),window.addEventListener("mouseup",b=>tb(this,"pointerup",b)),window.addEventListener("touchstart",b=>{qb(b);ub(this,"pointerdown",b)}),window.addEventListener("touchmove",b=>ub(this,"pointermove",b)),window.addEventListener("touchend",b=>ub(this,"pointerup",b)),window.addEventListener("touchcancel",b=>ub(this,"pointercancel",b)));const a=()=>this.qd();window.addEventListener("pointerup",a,!0);window.addEventListener("touchend",
a,!0);window.addEventListener("click",a,!0);window.addEventListener("keydown",a,!0);window.addEventListener("gamepadconnected",a,!0);this.o.sf()&&!this.o.fe()&&navigator.virtualKeyboard&&(navigator.virtualKeyboard.overlaysContent=!0,navigator.virtualKeyboard.addEventListener("geometrychange",()=>{vb(this,this.Ba(),navigator.virtualKeyboard.boundingRect.height)}))}Ma(){return this.o.Ma()}Ba(){return this.o.Ba()}qd(){var a=[...this.Eb];this.Eb.clear();if(!this.Za)for(const b of a)(a=b.play())&&a.catch(()=>
{this.Hc.has(b)||this.Eb.add(b)})}kb(a){if("function"!==typeof a.play)throw Error("missing play function");this.Hc.delete(a);let b;try{b=a.play()}catch(c){this.Eb.add(a);return}b&&b.catch(()=>{this.Hc.has(a)||this.Eb.add(a)})}ub(a){this.Eb.delete(a);this.Hc.add(a)}rc(a){this.Za=!!a}nd(a){alert(a.message)}});"use strict";
async function Fa(a){if(a.Xf)throw Error("already initialised");a.Xf=!0;var b=a.ab.kd(("playable-ad"===a.ab.B?a.ab.Kb:"")+"dispatchworker.js");a.vd=await a.ab.Xc(b,a.Ub,{name:"DispatchWorker"});b=new MessageChannel;a.Fd=b.port1;a.vd.postMessage({type:"_init","in-port":b.port2},[b.port2]);a.Pd=await Ia(a)}function Ga(a){return[a.Fd,a.Pd]}
async function Ia(a){const b=a.Ee.length;var c=a.ab.kd(("playable-ad"===a.ab.B?a.ab.Kb:"")+"jobworker.js");c=await a.ab.Xc(c,a.Ub,{name:"JobWorker"+b});const d=new MessageChannel,e=new MessageChannel;a.vd.postMessage({type:"_addJobWorker",port:d.port1},[d.port1]);c.postMessage({type:"init",number:b,"dispatch-port":d.port2,"output-port":e.port2},[d.port2,e.port2]);a.Ee.push(c);return e.port1}
self.vf=class{constructor(a){this.ab=a;this.Ub=a.pa;this.Ub="preview"===a.B?this.Ub+"workers/":this.Ub+a.Kb;this.$f=Math.min(navigator.hardwareConcurrency||2,16);this.vd=null;this.Ee=[];this.Pd=this.Fd=null}};"use strict";window.C3_IsSupported&&(window.c3_runtimeInterface=new self.sa({rg:!0,sg:"workermain.js",Mb:["scripts/c3runtime.js"],Tc:[],Xd:"",ng:"scripts/",Uc:[],Se:"html5"}));"use strict";const yb=180/Math.PI;
async function zb(a,b){if(b.isiOSCordova||b.isSafari)a.Lc=!0;a.Td=b.timeScaleMode;a.Je=["equalpower","HRTF","soundfield"][b.panningModel];a.ue=["linear","inverse","exponential"][b.distanceModel];a.Ke=b.refDistance;a.Ie=b.maxDistance;a.Me=b.rolloffFactor;if(a.o.Gd)a.Lc=!0,a.g=new OfflineAudioContext({numberOfChannels:2,sampleRate:48E3,length:Math.ceil(48E3*a.o.xe)});else{var c={latencyHint:b.latencyHint};a.Pe||(c.sampleRate=48E3);if("undefined"!==typeof AudioContext)a.g=new AudioContext(c);else if("undefined"!==
typeof webkitAudioContext)a.g=new webkitAudioContext(c);else throw Error("Web Audio API not supported");Ab(a);a.g.onstatechange=()=>{"running"!==a.g.state&&Ab(a);k(a,"audiocontext-state",{audioContextState:a.g.state})}}a.zb=a.g.createGain();a.zb.connect(a.g.destination);c=b.listenerPos;a.oa[0]=c[0];a.oa[1]=c[1];a.oa[2]=c[2];a.g.listener.setPosition(c[0],c[1],c[2]);a.g.listener.setOrientation(...a.wa);self.C3_GetAudioContextCurrentTime=()=>a.g.currentTime;try{await Promise.all(b.preloadList.map(d=>
Bb(a,d.originalUrl,d.url,d.type,!1)))}catch(d){console.error("[Construct] Preloading sounds failed: ",d)}return{sampleRate:a.g.sampleRate,audioContextState:a.g.state,outputLatency:a.g.outputLatency||0}}
async function Cb(a,b){var c=b.originalUrl,d=b.url;const e=b.type,f=b.isMusic,g=b.tags,h=b.isLooping,m=b.vol,t=b.pos,v=b.panning,T=b.stereoPan;let O=b.off;0<O&&!b.trueClock&&(a.g.getOutputTimestamp?(b=a.g.getOutputTimestamp(),O=O-b.performanceTime/1E3+b.contextTime):O=O-performance.now()/1E3+a.g.currentTime);a.Fe=g.slice(0);Db(a,g);try{a.ca=await Eb(a,c,d,e,g,f);if(v){Fb(a.ca,!0);var E=a.ca,U=v.innerAngle,ab=v.outerAngle,bb=v.outerGain;if(E.ac){Gb(E,v.x,v.y,v.z,v.angle);var X=self.Nb.Af;E.Qa[0]!==
X(U)&&(E.Qa[0]=X(U),E.M.coneInnerAngle=X(U));E.Qa[1]!==X(ab)&&(E.Qa[1]=X(ab),E.M.coneOuterAngle=X(ab));E.Qa[2]!==bb&&(E.Qa[2]=bb,E.M.coneOuterGain=bb)}v.hasOwnProperty("uid")&&(a.ca.Oa=v.uid)}else"number"===typeof T&&0!==T?(u(a.ca,!0),Hb(a.ca,T)):(Fb(a.ca,!1),u(a.ca,!1));a.ca.Play(h,m,t,O)}catch(dd){console.error("[Construct] Audio: error starting playback: ",dd);return}finally{c=g.join(" ");d=a.jc.get(c);if(!d)throw Error("expected pending tag");d.Yd--;0===d.Yd&&(d.resolve(),a.jc.delete(c))}ca(a)}
async function Ib(a,b){var c=b.tags;const d=b.vol,e=b.duration;b=b.stopOnEnd;await Jb(a,c);for(const h of w(a,c))if(!h.Bb){c=h.N.gain;c.cancelScheduledValues(0);var f=h.A.g.currentTime,g=f+e;c.setValueAtTime(c.value,f);c.linearRampToValueAtTime(d,g);h.sb=d;h.Ab=g;h.Oe=b}Kb(a)}async function Lb(a,b){const c=b.tags;b=b.rate;await Jb(a,c);for(const d of w(a,c))d.Ha!==b&&(d.Ha=b,d.mb())}async function Mb(a,b){const c=b.tags;b=b.pos;await Jb(a,c);for(const d of w(a,c))d.cd(b)}
async function Ob(a,b){const c=b.originalUrl,d=b.url,e=b.type;b=b.isMusic;try{await Eb(a,c,d,e,"",b)}catch(f){console.error("[Construct] Audio: error preloading: ",f)}}async function Pb(a,b){if(b=await Bb(a,"",b.url,b.type,b.isMusic,!0))b.j(),b=a.Da.indexOf(b),-1!==b&&a.Da.splice(b,1)}
async function Qb(a,b){const c=b.type;var d=b.tags;const e=b.params;let f;if("convolution"===c)try{f=await Bb(a,b.bufferOriginalUrl,b.bufferUrl,b.bufferType,!1)}catch(m){console.log("[Construct] Audio: error loading convolution: ",m);return}for(const m of d){if("filter"===c)d=new self.Ye(a,...e);else if("delay"===c)d=new self.We(a,...e);else if("convolution"===c){var g=d=new self.Ve(a,f.Ca,...e),h=b.bufferType;g.se=b.bufferOriginalUrl;g.te=h}else if("flanger"===c)d=new self.Ze(a,...e);else if("phaser"===
c)d=new self.af(a,...e);else if("gain"===c)d=new self.$e(a,...e);else if("stereopan"===c)d=new self.cf(a,...e);else if("tremolo"===c)d=new self.df(a,...e);else if("ringmod"===c)d=new self.bf(a,...e);else if("distortion"===c)d=new self.Xe(a,...e);else if("compressor"===c)d=new self.Ue(a,...e);else if("analyser"===c)d=new self.Te(a,...e);else throw Error("invalid effect type");g=a;h=m;h=h.toLowerCase();let t=g.Ea.get(h);t||(t=[],g.Ea.set(h,t));d.Ce=t.length;d.Rd=h;t.push(d);Rb(g,h)}Sb(a)}
async function Tb(a,b){const c=b.saveLoadMode;if(3!==c){var d=[];for(var e of a.P)e.gb()&&1===c||!e.gb()&&2===c?d.push(e):e.j();a.P=d}for(const f of a.Ea.values())for(const g of f)g.j();a.Ea.clear();a.Rc=b.timeScale;a.Ad=b.gameTime;d=b.listenerPos;a.oa[0]=d[0];a.oa[1]=d[1];a.oa[2]=d[2];a.g.listener.setPosition(d[0],d[1],d[2]);d=b.listenerOrientation;if(Array.isArray(d)){for(e=0;6>e;++e)a.wa[e]=d[e];a.g.listener.setOrientation(...a.wa)}a.Za=b.isSilent;a.o.rc(a.Za);a.Gc=b.masterVolume;a.zb.gain.value=
a.Gc;d=[];for(const f of Object.values(b.effects))d.push(Promise.all(f.map(g=>Qb(a,g))));await Promise.all(d);await Promise.all(b.playing.map(f=>Ub(a,f,c)));Kb(a)}
async function Vb(a,b){try{const c=a.g.suspend(b.time);a.Be?a.g.resume():(a.g.startRendering().then(d=>{const e=[];for(let f=0,g=d.numberOfChannels;f<g;++f){const h=d.getChannelData(f);e.push(h.buffer)}a.o.hb("runtime","offline-audio-render-completed",{duration:d.duration,length:d.length,numberOfChannels:d.numberOfChannels,sampleRate:d.sampleRate,channelData:e},null,e)}).catch(d=>Wb(d)),a.Be=!0);await c}catch(c){Wb(c)}}
function Ab(a){a.Bc||(a.Ed=!1,window.addEventListener("pointerup",a.bb,!0),window.addEventListener("touchend",a.bb,!0),window.addEventListener("click",a.bb,!0),window.addEventListener("keydown",a.bb,!0),a.Bc=!0)}
async function Bb(a,b,c,d,e,f){for(var g of a.Da)if(g.Pb()===c)return await g.U(),g;if(f)return null;if(e&&(a.Lc||a.Ae)){f=0;for(let h=0,m=a.Da.length;h<m;++h)g=a.Da[h],a.Da[f]=g,g.gb()?g.j():++f;a.Da.length=f}f="audio/webm; codecs=opus"===d&&!a.Pe;e&&f&&(a.Ae=!0);c=!e||a.Lc||f?new self.mf(a,b,c,d,e,f):new self.gf(a,b,c,d,e);a.Da.push(c);await c.U();a.He.has(b)||(k(a,"buffer-metadata",{originalUrl:b,duration:c.Aa()}),a.He.add(b));return c}
function Xb(a,b){return a===b||a.normalize().toLowerCase()===b.normalize().toLowerCase()}function Yb(a,b){return(b=a.Ea.get(b.toLowerCase()))?b[0].Z():a.za()}function Rb(a,b){b=b.toLowerCase();let c=a.za();var d=a.Ea.get(b);if(d&&d.length){c=d[0].Z();for(let f=0,g=d.length;f<g;++f){var e=d[f];f+1===g?e.fa(a.za()):e.fa(d[f+1].Z())}}for(const f of Zb(a,b))d=c,e=f.ya||f.M||f.N,e.disconnect(),e.connect(d);a.qb&&a.Nd===b&&(a.qb.disconnect(),a.qb.connect(c))}
function*Zb(a,b){if(b)for(const c of a.P)Xb(0<c.Ja.length?c.Ja[0]:"",b)&&(yield c);else a.ca&&!a.ca.$()&&(yield a.ca)}function $b(a,b,c){return c?a.o.Wf(b).then(d=>{const e=a.g.createBuffer(1,d.length,48E3);e.getChannelData(0).set(d);return e}):new Promise((d,e)=>{a.g.decodeAudioData(b,d,e)})}function ac(a,b){let c=0;for(let d=0,e=a.P.length;d<e;++d){const f=a.P[d];a.P[c]=f;f.ba===b?f.j():++c}a.P.length=c}
function*w(a,b){if(0<b.length)for(const d of a.P){a:{a=d.Ja;var c=b;for(const e of c){c=!1;for(const f of a)if(Xb(f,e)){c=!0;break}if(!c){a=!1;break a}}a=!0}a&&(yield d)}else a.ca&&!a.ca.$()&&(yield a.ca)}async function Eb(a,b,c,d,e,f){for(const g of a.P)if(g.Pb()===c&&(g.Vc()||f))return g.Ja=e,g;b=await Bb(a,b,c,d,f);e="html5"===b.td?new self.hf(b.A,b,e):new self.nf(b.A,b,e);a.P.push(e);return e}
function Db(a,b){b=b.join(" ");let c=a.jc.get(b);if(!c){let d=null;c={Yd:0,promise:new Promise(e=>d=e),resolve:d};a.jc.set(b,c)}c.Yd++}function Jb(a,b){return(a=a.jc.get((0===b.length?a.Fe:b).join(" ")))?a.promise:Promise.resolve()}function Kb(a){if(0<a.xb.size)ca(a);else for(const b of a.P)if(!b.R&&!b.$()){ca(a);break}}function bc(a,b,c,d){k(a,"trigger",{type:b,tags:c,aiid:d})}function Sb(a){a.Hd||(a.Hd=!0,Promise.resolve().then(()=>cc(a)))}
function cc(a){const b={};for(const [c,d]of a.Ea)b[c]=d.map(e=>e.Ob());k(a,"fxstate",{fxstate:b});a.Hd=!1}
async function Ub(a,b,c){if(3!==c){var d=b.bufferOriginalUrl,e=b.bufferUrl,f=b.bufferType,g=b.isMusic,h=b.tags,m=b.isLooping,t=b.volume,v=b.playbackTime;if(!g||1!==c)if(g||2!==c){c=null;try{c=await Eb(a,d,e,f,h,g)}catch(T){console.error("[Construct] Audio: error loading audio state: ",T);return}a=c;(d=b.pan)?(Fb(a,!0),e=a.M,f=d.pos,a.Gb[0]=f[0],a.Gb[1]=f[1],a.Gb[2]=f[2],f=d.orient,a.Fb[0]=f[0],a.Fb[1]=f[1],a.Fb[2]=f[2],e.setPosition(...a.Gb),e.setOrientation(...a.Fb),a.Qa[0]=d.cia,a.Qa[1]=d.coa,a.Qa[2]=
d.cog,e.coneInnerAngle=d.cia,e.coneOuterAngle=d.coa,e.coneOuterGain=d.cog,a.Oa=d.uid):Fb(a,!1);a=c;d=b.stereoPan;"number"!==typeof d?u(a,!1):(u(a,!0),Hb(a,d));c.Play(m,t,v,0);b.isPlaying||c.Rb();c.md(b)}}}function Wb(a){console.error("[Audio] Offline rendering error: ",a)}
self.Nb=class extends self.fb{constructor(a){super(a,"audio");this.zb=this.g=null;this.Bc=this.Ed=!1;this.bb=()=>{if(!this.Ed){var b=this.g;"suspended"===b.state&&b.resume&&b.resume();var c=b.createBuffer(1,220,22050),d=b.createBufferSource();d.buffer=c;d.connect(b.destination);d.start(0);"running"===b.state&&this.Bc&&(this.Ed=!0,window.removeEventListener("pointerup",this.bb,!0),window.removeEventListener("touchend",this.bb,!0),window.removeEventListener("click",this.bb,!0),window.removeEventListener("keydown",
this.bb,!0),this.Bc=!1)}};this.Da=[];this.P=[];this.ca=null;this.Fe=[];this.He=new Set;this.Ge=-1;this.jc=new Map;this.Gc=1;this.Za=!1;this.Td=0;this.Rc=1;this.Ad=0;this.Je="HRTF";this.ue="inverse";this.Ke=600;this.Ie=1E4;this.Me=1;this.oa=[0,0,0];this.wa=[0,0,-1,0,1,0];this.Ae=this.Lc=!1;this.Pe=this.o.tf();this.Ea=new Map;this.xb=new Set;this.Be=this.Hd=!1;this.Nd="";this.qb=null;self.C3Audio_OnMicrophoneStream=(b,c)=>{this.qb&&this.qb.disconnect();this.Nd=c.toLowerCase();this.qb=this.g.createMediaStreamSource(b);
this.qb.connect(Yb(this,this.Nd))};this.zc=null;self.C3Audio_GetOutputStream=()=>{this.zc||(this.zc=this.g.createMediaStreamDestination(),this.zb.connect(this.zc));return this.zc.stream};self.C3Audio_DOMInterface=this;ba(this,[["create-audio-context",b=>zb(this,b)],["play",b=>Cb(this,b)],["stop",b=>{b=b.tags;for(const c of w(this,b))c.jb()}],["stop-all",()=>{for(const b of this.P)b.jb()}],["set-paused",b=>{const c=b.tags;b=b.paused;for(const d of w(this,c))b?d.Rb():d.qc();Kb(this)}],["set-volume",
b=>{const c=b.tags;b=b.vol;for(const d of w(this,c))x(d,b)}],["fade-volume",b=>Ib(this,b)],["set-master-volume",b=>{this.Gc=b.vol;this.zb.gain.value=this.Gc}],["set-muted",b=>{const c=b.tags;b=b.isMuted;for(const d of w(this,c))dc(d,b)}],["set-silent",b=>{this.Za=b.isSilent;this.o.rc(this.Za);for(const c of this.P)c.vc()}],["set-looping",b=>{const c=b.tags;b=b.isLooping;for(const d of w(this,c))d.dd(b)}],["set-playback-rate",b=>Lb(this,b)],["set-stereo-pan",b=>{const c=b.tags;b=b.p;for(const d of w(this,
c))u(d,!0),Hb(d,b)}],["seek",b=>Mb(this,b)],["preload",b=>Ob(this,b)],["unload",b=>Pb(this,b)],["unload-all",()=>{for(const b of this.Da)b.j();this.Da.length=0}],["set-suspended",b=>{b=b.isSuspended;!b&&this.g.resume&&this.g.resume();for(const c of this.P)c.ed(b);b&&this.g.suspend&&this.g.suspend()}],["add-effect",b=>Qb(this,b)],["set-effect-param",b=>{var c=b.tags;const d=b.index,e=b.param,f=b.value,g=b.ramp;b=b.time;for(const h of c)c=this.Ea.get(h.toLowerCase()),!c||0>d||d>=c.length||c[d].ma(e,
f,g,b);Sb(this)}],["remove-effects",b=>{b=b.tags;for(const c of b){b=c.toLowerCase();const d=this.Ea.get(b);if(!d||!d.length)break;for(const e of d)e.j();this.Ea.delete(b);Rb(this,b)}}],["tick",b=>{this.Rc=b.timeScale;this.Ad=b.gameTime;this.Ge=b.tickCount;if(0!==this.Td)for(var c of this.P)c.mb();!(c=b.listenerPos)||this.oa[0]===c[0]&&this.oa[1]===c[1]&&this.oa[2]===c[2]||(this.oa[0]=c[0],this.oa[1]=c[1],this.oa[2]=c[2],this.g.listener.setPosition(c[0],c[1],c[2]));if((c=b.listenerOrientation)&&(this.wa[0]!==
c[0]||this.wa[1]!==c[1]||this.wa[2]!==c[2]||this.wa[3]!==c[3]||this.wa[4]!==c[4]||this.wa[5]!==c[5])){for(let d=0;6>d;++d)this.wa[d]=c[d];this.g.listener.setOrientation(...this.wa)}for(const d of b.instPans){b=d.uid;for(const e of this.P)e.Oa===b&&Gb(e,d.x,d.y,d.z,d.angle)}}],["load-state",b=>Tb(this,b)],["offline-render-audio",b=>Vb(this,b)],["offline-render-finish",()=>{this.g.resume()}]])}ga(){return this.g}za(){return this.zb}GetAudioContextExtern(){return this.ga()}GetDestinationNodeExtern(){return this.za()}pc(){return this.Za}kb(a){this.o.kb(a)}ub(a){this.o.ub(a)}vb(){for(var a of this.xb)a.vb();
a=this.g.currentTime;for(var b of this.P)b.vb(a);b=this.P.filter(c=>!c.R&&!c.$()).map(c=>c.Ob());k(this,"state",{tickCount:this.Ge,outputLatency:this.g.outputLatency||0,audioInstances:b,analysers:[...this.xb].map(c=>({tag:c.Rd,index:c.Ce,peak:c.Hb,rms:c.Le,binCount:c.l.frequencyBinCount,freqBins:c.ze}))});0===b.length&&0===this.xb.size&&this.Cc&&(this.o.Uf(this.Qe),this.Cc=!1)}static Af(a){return a*yb}static ee(a){return Math.max(Math.min(Math.pow(10,a/20),1),0)}static wf(a){return Math.log(Math.max(Math.min(a,
1),0))/Math.log(10)*20}};self.sa.Ua(self.Nb);"use strict";self.ae=class{constructor(a,b,c,d,e){this.A=a;this.bg=b;this.rb=c;this.ea=d;this.Zf=e;this.td="";this.m=null}j(){this.m=this.A=null}ld(){}U(){this.m||(this.m=this.ld());return this.m}ga(){return this.A.ga()}Zc(){return this.bg}Pb(){return this.rb}Yc(){return this.ea}gb(){return this.Zf}Aa(){}};"use strict";
self.gf=class extends self.ae{constructor(a,b,c,d,e){super(a,b,c,d,e);this.td="html5";this.Y=new Audio;this.Y.crossOrigin="anonymous";this.Y.autoplay=!1;this.Y.preload="auto";this.dc=this.Ga=null;this.Y.addEventListener("canplaythrough",()=>!0);this.ic=this.ga().createGain();this.fc=null;this.Y.addEventListener("canplay",()=>{this.Ga&&(this.Ga(),this.dc=this.Ga=null);!this.fc&&this.Y&&(this.fc=this.ga().createMediaElementSource(this.Y),this.fc.connect(this.ic))});this.onended=null;this.Y.addEventListener("ended",
()=>{if(this.onended)this.onended()});this.Y.addEventListener("error",f=>{console.error(`[Construct] Audio '${this.rb}' error: `,f);this.dc&&(this.dc(f),this.dc=this.Ga=null)})}j(){ac(this.A,this);this.ic.disconnect();this.ic=null;this.fc.disconnect();this.fc=null;this.Y&&!this.Y.paused&&this.Y.pause();this.Y=this.onended=null;super.j()}ld(){return new Promise((a,b)=>{this.Ga=a;this.dc=b;this.Y.src=this.rb})}ha(){return this.Y}Aa(){return this.Y.duration}};"use strict";
async function ec(a){if(a.ob)return a.ob;var b=a.A.o;if("cordova"===b.B&&b.ge(a.rb)&&b.Dc)a.ob=await b.nc(a.rb);else{b=await fetch(a.rb);if(!b.ok)throw Error(`error fetching audio data: ${b.status} ${b.statusText}`);a.ob=await b.arrayBuffer()}}async function fc(a){if(a.Ca)return a.Ca;a.Ca=await $b(a.A,a.ob,a.ag);a.ob=null}
self.mf=class extends self.ae{constructor(a,b,c,d,e,f){super(a,b,c,d,e);this.td="webaudio";this.Ca=this.ob=null;this.ag=!!f}j(){ac(this.A,this);this.Ca=this.ob=null;super.j()}async ld(){try{await ec(this),await fc(this)}catch(a){console.error(`[Construct] Failed to load audio '${this.rb}': `,a)}}Aa(){return this.Ca?this.Ca.duration:0}};"use strict";let gc=0;
function Fb(a,b){b=!!b;a.ac!==b&&(a.ac=b,a.ac?(u(a,!1),a.M||(a.M=a.ga().createPanner(),a.M.panningModel=a.A.Je,a.M.distanceModel=a.A.ue,a.M.refDistance=a.A.Ke,a.M.maxDistance=a.A.Ie,a.M.rolloffFactor=a.A.Me),a.N.disconnect(),a.N.connect(a.M),a.M.connect(a.za())):(a.M.disconnect(),a.N.disconnect(),a.N.connect(a.za())))}
function u(a,b){b=!!b;a.Ec!==b&&(a.Ec=b,a.Ec?(Fb(a,!1),a.ya=a.ga().createStereoPanner(),a.N.disconnect(),a.N.connect(a.ya),a.ya.connect(a.za())):(a.ya.disconnect(),a.ya=null,a.N.disconnect(),a.N.connect(a.za())))}function Hb(a,b){a.Ec&&a.Qd!==b&&(a.ya.pan.value=b,a.Qd=b)}function x(a,b){a.sb=b;a.N.gain.cancelScheduledValues(0);a.Ab=-1;a.N.gain.value=a.$c()}function dc(a,b){b=!!b;a.Bb!==b&&(a.Bb=b,a.vc())}
function Gb(a,b,c,d,e){if(a.ac){var f=a.Gb,g=a.Fb,h=Math.cos(e);e=Math.sin(e);if(f[0]!==b||f[1]!==c||f[2]!==d)f[0]=b,f[1]=c,f[2]=d,a.M.setPosition(...f);if(g[0]!==h||g[1]!==e||0!==g[2])g[0]=h,g[1]=e,g[2]=0,a.M.setOrientation(...g)}}function hc(a){return a.Id?a.A.Ad:performance.now()/1E3}
self.be=class{constructor(a,b,c){this.A=a;this.ba=b;this.Ja=c;this.wc=gc++;this.N=this.ga().createGain();this.N.connect(this.za());this.M=null;this.ac=!1;this.Gb=[0,0,0];this.Fb=[0,0,0];this.Qa=[0,0,0];this.ya=null;this.Ec=!1;this.Qd=0;this.R=!0;this.la=this.Ra=this.W=!1;this.sb=1;this.Bb=!1;this.Ha=1;a=this.A.Td;this.Id=1===a&&!this.gb()||2===a;this.Ab=this.Oa=-1;this.Oe=!1}j(){this.ba=this.A=null;this.M&&(this.M.disconnect(),this.M=null);this.ya&&(this.ya.disconnect(),this.ya=null);this.N.disconnect();
this.N=null}ga(){return this.A.ga()}za(){return Yb(this.A,0<this.Ja.length?this.Ja[0]:"")}Zc(){return this.ba.Zc()}Pb(){return this.ba.Pb()}Yc(){return this.ba.Yc()}gb(){return this.ba.gb()}$(){}Vc(){}IsPlaying(){return!this.R&&!this.W&&!this.$()}tb(){}Aa(){return this.ba.Aa()}Play(){}jb(){}Rb(){}qc(){}vb(a){-1!==this.Ab&&a>=this.Ab&&(this.Ab=-1,this.Oe&&this.jb(),bc(this.A,"fade-ended",this.Ja,this.wc))}$c(){const a=this.sb;return isFinite(a)?a:0}pc(){return this.A.pc()}vc(){}dd(){}mb(){}cd(){}ed(){}ad(){}Ob(){var a=
this.wc,b=this.Ja,c=this.Aa(),d=-1===this.Ab?this.sb:this.N.gain.value,e=this.IsPlaying();if(this.M){var f=this.M;f={pos:this.Gb,orient:this.Fb,cia:f.coneInnerAngle,coa:f.coneOuterAngle,cog:f.coneOuterGain,uid:this.Oa}}else f=null;return{aiid:a,tags:b,duration:c,volume:d,isPlaying:e,playbackTime:this.tb(),playbackRate:this.Ha,uid:this.Oa,bufferOriginalUrl:this.Zc(),bufferUrl:"",bufferType:this.Yc(),isMusic:this.gb(),isLooping:this.la,isMuted:this.Bb,resumePosition:this.ad(),pan:f,stereoPan:this.ya?
this.Qd:null}}md(a){var b=a.playbackRate;this.Ha!==b&&(this.Ha=b,this.mb());dc(this,a.isMuted)}};"use strict";
self.hf=class extends self.be{constructor(a,b,c){super(a,b,c);this.ba.ic.connect(this.N);this.ba.onended=()=>this.od()}j(){this.jb();this.ba.ic.disconnect();super.j()}ha(){return this.ba.ha()}od(){this.R=!0;this.Oa=-1;bc(this.A,"ended",this.Ja,this.wc)}$(){return this.ha().ended}Vc(){return this.R?!0:this.$()}tb(){let a=this.ha().currentTime;this.la||(a=Math.min(a,this.Aa()));return a}Play(a,b,c){const d=this.ha();1!==d.playbackRate&&(d.playbackRate=1);d.loop!==a&&(d.loop=a);x(this,b);d.muted&&(d.muted=
!1);if(d.currentTime!==c)try{d.currentTime=c}catch(e){console.warn(`[Construct] Exception seeking audio '${this.ba.Pb()}' to position '${c}': `,e)}this.A.kb(d);this.W=this.R=!1;this.la=a;this.Ha=1}jb(){const a=this.ha();a.paused||a.pause();this.A.ub(a);this.R=!0;this.W=!1;this.Oa=-1}Rb(){if(!(this.W||this.R||this.$())){var a=this.ha();a.paused||a.pause();this.A.ub(a);this.W=!0}}qc(){!this.W||this.R||this.$()||(this.A.kb(this.ha()),this.W=!1)}vc(){this.ha().muted=this.Bb||this.pc()}dd(a){a=!!a;this.la!==
a&&(this.la=a,this.ha().loop=a)}mb(){let a=this.Ha;this.Id&&(a*=this.A.Rc);try{this.ha().playbackRate=a}catch(b){console.warn(`[Construct] Unable to set playback rate '${a}':`,b)}}cd(a){if(!this.R&&!this.$())try{this.ha().currentTime=a}catch(b){console.warn(`[Construct] Error seeking audio to '${a}': `,b)}}ad(){return this.tb()}ed(a){a?this.IsPlaying()?(this.ha().pause(),this.Ra=!0):this.Ra=!1:this.Ra&&(this.A.kb(this.ha()),this.Ra=!1)}};"use strict";
function ic(a){a.u&&(a.u.onended=null,a.u.disconnect(),a.u.buffer=null);a.u=null;a.Tb=null}
self.nf=class extends self.be{constructor(a,b,c){super(a,b,c);this.u=null;this.Ic=d=>this.od(d);this.Dd=!0;this.Tb=null;this.da=this.Kc=this.Mc=0;this.Od=1}j(){this.jb();ic(this);this.Ic=null;super.j()}od(a){this.W||this.Ra||a.target!==this.Tb||(this.R=this.Dd=!0,this.Oa=-1,ic(this),bc(this.A,"ended",this.Ja,this.wc))}$(){return!this.R&&this.u&&this.u.loop||this.W?!1:this.Dd}Vc(){return!this.u||this.R?!0:this.$()}tb(){let a;a=this.W?this.da:this.Kc+(hc(this)-this.Mc)*this.Ha;this.la||(a=Math.min(a,
this.Aa()));return a}Play(a,b,c,d){this.Od=1;x(this,b);ic(this);this.u=this.ga().createBufferSource();this.u.buffer=this.ba.Ca;this.u.connect(this.N);this.Tb=this.u;this.u.onended=this.Ic;this.u.loop=a;this.u.start(d,c);this.W=this.R=this.Dd=!1;this.la=a;this.Ha=1;this.Mc=hc(this);this.Kc=c}jb(){if(this.u)try{this.u.stop(0)}catch(a){}this.R=!0;this.W=!1;this.Oa=-1}Rb(){this.W||this.R||this.$()||(this.da=this.tb(),this.la&&(this.da%=this.Aa()),this.W=!0,this.u.stop(0))}qc(){!this.W||this.R||this.$()||
(ic(this),this.u=this.ga().createBufferSource(),this.u.buffer=this.ba.Ca,this.u.connect(this.N),this.Tb=this.u,this.u.onended=this.Ic,this.u.loop=this.la,x(this,this.sb),this.mb(),this.u.start(0,this.da),this.Mc=hc(this),this.Kc=this.da,this.W=!1)}$c(){return super.$c()*this.Od}vc(){this.Od=this.Bb||this.pc()?0:1;x(this,this.sb)}dd(a){a=!!a;this.la!==a&&(this.la=a,this.u&&(this.u.loop=a))}mb(){let a=this.Ha;this.Id&&(a*=this.A.Rc);this.u&&(this.u.playbackRate.value=a)}cd(a){this.R||this.$()||(this.W?
this.da=a:(this.Rb(),this.da=a,this.qc()))}ad(){return this.da}ed(a){a?this.IsPlaying()?(this.Ra=!0,this.da=this.tb(),this.la&&(this.da%=this.Aa()),this.u.stop(0)):this.Ra=!1:this.Ra&&(ic(this),this.u=this.ga().createBufferSource(),this.u.buffer=this.ba.Ca,this.u.connect(this.N),this.Tb=this.u,this.u.onended=this.Ic,this.u.loop=this.la,x(this,this.sb),this.mb(),this.u.start(0,this.da),this.Mc=hc(this),this.Kc=this.da,this.Ra=!1)}md(a){super.md(a);this.da=a.resumePosition}};"use strict";
function y(a){return a.g.createGain()}function z(a,b,c,d,e){b.cancelScheduledValues(0);if(0===e)b.value=c;else switch(a=a.g.currentTime,e+=a,d){case 0:b.setValueAtTime(c,e);break;case 1:b.setValueAtTime(b.value,a);b.linearRampToValueAtTime(c,e);break;case 2:b.setValueAtTime(b.value,a),b.exponentialRampToValueAtTime(c,e)}}class A{constructor(a){this.A=a;this.g=a.ga();this.Ce=-1;this.ea=this.Rd="";this.s=null}j(){this.g=null}Z(){}fa(){}Ob(){return{type:this.ea,tag:this.Rd,params:this.s}}}
self.Ye=class extends A{constructor(a,b,c,d,e,f,g){super(a);this.ea="filter";this.s=[b,c,d,e,f,g];this.C=y(this);this.i=y(this);this.i.gain.value=g;this.h=y(this);this.h.gain.value=1-g;this.L=this.g.createBiquadFilter();this.L.type=b;this.L.frequency.value=c;this.L.detune.value=d;this.L.Q.value=e;this.L.gain.vlaue=f;this.C.connect(this.L);this.C.connect(this.h);this.L.connect(this.i)}j(){this.C.disconnect();this.L.disconnect();this.i.disconnect();this.h.disconnect();super.j()}fa(a){this.i.disconnect();
this.i.connect(a);this.h.disconnect();this.h.connect(a)}Z(){return this.C}ma(a,b,c,d){switch(a){case 0:b=Math.max(Math.min(b/100,1),0);this.s[5]=b;z(this,this.i.gain,b,c,d);z(this,this.h.gain,1-b,c,d);break;case 1:this.s[1]=b;z(this,this.L.frequency,b,c,d);break;case 2:this.s[2]=b;z(this,this.L.detune,b,c,d);break;case 3:this.s[3]=b;z(this,this.L.Q,b,c,d);break;case 4:this.s[4]=b,z(this,this.L.gain,b,c,d)}}};
self.We=class extends A{constructor(a,b,c,d){super(a);this.ea="delay";this.s=[b,c,d];this.C=y(this);this.i=y(this);this.i.gain.value=d;this.h=y(this);this.h.gain.value=1-d;this.ec=y(this);this.ka=this.g.createDelay(b);this.ka.delayTime.value=b;this.Yb=y(this);this.Yb.gain.value=c;this.C.connect(this.ec);this.C.connect(this.h);this.ec.connect(this.i);this.ec.connect(this.ka);this.ka.connect(this.Yb);this.Yb.connect(this.ec)}j(){this.C.disconnect();this.i.disconnect();this.h.disconnect();this.ec.disconnect();
this.ka.disconnect();this.Yb.disconnect();super.j()}fa(a){this.i.disconnect();this.i.connect(a);this.h.disconnect();this.h.connect(a)}Z(){return this.C}ma(a,b,c,d){const e=self.Nb.ee;switch(a){case 0:b=Math.max(Math.min(b/100,1),0);this.s[2]=b;z(this,this.i.gain,b,c,d);z(this,this.h.gain,1-b,c,d);break;case 4:this.s[1]=e(b);z(this,this.Yb.gain,e(b),c,d);break;case 5:this.s[0]=b,z(this,this.ka.delayTime,b,c,d)}}};
self.Ve=class extends A{constructor(a,b,c,d){super(a);this.ea="convolution";this.s=[c,d];this.te=this.se="";this.C=y(this);this.i=y(this);this.i.gain.value=d;this.h=y(this);this.h.gain.value=1-d;this.Xb=this.g.createConvolver();this.Xb.normalize=c;this.Xb.buffer=b;this.C.connect(this.Xb);this.C.connect(this.h);this.Xb.connect(this.i)}j(){this.C.disconnect();this.Xb.disconnect();this.i.disconnect();this.h.disconnect();super.j()}fa(a){this.i.disconnect();this.i.connect(a);this.h.disconnect();this.h.connect(a)}Z(){return this.C}ma(a,
b,c,d){switch(a){case 0:b=Math.max(Math.min(b/100,1),0),this.s[1]=b,z(this,this.i.gain,b,c,d),z(this,this.h.gain,1-b,c,d)}}Ob(){const a=super.Ob();a.bufferOriginalUrl=this.se;a.bufferUrl="";a.bufferType=this.te;return a}};
self.Ze=class extends A{constructor(a,b,c,d,e,f){super(a);this.ea="flanger";this.s=[b,c,d,e,f];this.C=y(this);this.h=y(this);this.h.gain.value=1-f/2;this.i=y(this);this.i.gain.value=f/2;this.$b=y(this);this.$b.gain.value=e;this.ka=this.g.createDelay(b+c);this.ka.delayTime.value=b;this.I=this.g.createOscillator();this.I.frequency.value=d;this.X=y(this);this.X.gain.value=c;this.C.connect(this.ka);this.C.connect(this.h);this.ka.connect(this.i);this.ka.connect(this.$b);this.$b.connect(this.ka);this.I.connect(this.X);
this.X.connect(this.ka.delayTime);this.I.start(0)}j(){this.I.stop(0);this.C.disconnect();this.ka.disconnect();this.I.disconnect();this.X.disconnect();this.h.disconnect();this.i.disconnect();this.$b.disconnect();super.j()}fa(a){this.i.disconnect();this.i.connect(a);this.h.disconnect();this.h.connect(a)}Z(){return this.C}ma(a,b,c,d){switch(a){case 0:b=Math.max(Math.min(b/100,1),0);this.s[4]=b;z(this,this.i.gain,b/2,c,d);z(this,this.h.gain,1-b/2,c,d);break;case 6:this.s[1]=b/1E3;z(this,this.X.gain,b/
1E3,c,d);break;case 7:this.s[2]=b;z(this,this.I.frequency,b,c,d);break;case 8:this.s[3]=b/100,z(this,this.$b.gain,b/100,c,d)}}};
self.af=class extends A{constructor(a,b,c,d,e,f,g){super(a);this.ea="phaser";this.s=[b,c,d,e,f,g];this.C=y(this);this.h=y(this);this.h.gain.value=1-g/2;this.i=y(this);this.i.gain.value=g/2;this.L=this.g.createBiquadFilter();this.L.type="allpass";this.L.frequency.value=b;this.L.detune.value=c;this.L.Q.value=d;this.I=this.g.createOscillator();this.I.frequency.value=f;this.X=y(this);this.X.gain.value=e;this.C.connect(this.L);this.C.connect(this.h);this.L.connect(this.i);this.I.connect(this.X);this.X.connect(this.L.frequency);
this.I.start(0)}j(){this.I.stop(0);this.C.disconnect();this.L.disconnect();this.I.disconnect();this.X.disconnect();this.h.disconnect();this.i.disconnect();super.j()}fa(a){this.i.disconnect();this.i.connect(a);this.h.disconnect();this.h.connect(a)}Z(){return this.C}ma(a,b,c,d){switch(a){case 0:b=Math.max(Math.min(b/100,1),0);this.s[5]=b;z(this,this.i.gain,b/2,c,d);z(this,this.h.gain,1-b/2,c,d);break;case 1:this.s[0]=b;z(this,this.L.frequency,b,c,d);break;case 2:this.s[1]=b;z(this,this.L.detune,b,c,
d);break;case 3:this.s[2]=b;z(this,this.L.Q,b,c,d);break;case 6:this.s[3]=b;z(this,this.X.gain,b,c,d);break;case 7:this.s[4]=b,z(this,this.I.frequency,b,c,d)}}};self.$e=class extends A{constructor(a,b){super(a);this.ea="gain";this.s=[b];this.l=y(this);this.l.gain.value=b}j(){this.l.disconnect();super.j()}fa(a){this.l.disconnect();this.l.connect(a)}Z(){return this.l}ma(a,b,c,d){const e=self.Nb.ee;switch(a){case 4:this.s[0]=e(b),z(this,this.l.gain,e(b),c,d)}}};
self.cf=class extends A{constructor(a,b){super(a);this.ea="stereopan";this.s=[b];this.l=this.g.createStereoPanner();this.l.pan.value=b}j(){this.l.disconnect();super.j()}fa(a){this.l.disconnect();this.l.connect(a)}Z(){return this.l}ma(a,b,c,d){b=Math.min(Math.max(b/100,-1),1);switch(a){case 9:this.s[0]=b,z(this,this.l.pan,b,c,d)}}};
self.df=class extends A{constructor(a,b,c){super(a);this.ea="tremolo";this.s=[b,c];this.l=y(this);this.l.gain.value=1-c/2;this.I=this.g.createOscillator();this.I.frequency.value=b;this.X=y(this);this.X.gain.value=c/2;this.I.connect(this.X);this.X.connect(this.l.gain);this.I.start(0)}j(){this.I.stop(0);this.I.disconnect();this.X.disconnect();this.l.disconnect();super.j()}fa(a){this.l.disconnect();this.l.connect(a)}Z(){return this.l}ma(a,b,c,d){switch(a){case 0:b=Math.max(Math.min(b/100,1),0);this.s[1]=
b;z(this,this.l.gain,1-b/2,c,d);z(this,this.X.gain,b/2,c,d);break;case 7:this.s[0]=b,z(this,this.I.frequency,b,c,d)}}};
self.bf=class extends A{constructor(a,b,c){super(a);this.ea="ringmod";this.s=[b,c];this.C=y(this);this.i=y(this);this.i.gain.value=c;this.h=y(this);this.h.gain.value=1-c;this.kc=y(this);this.kc.gain.value=0;this.I=this.g.createOscillator();this.I.frequency.value=b;this.I.connect(this.kc.gain);this.I.start(0);this.C.connect(this.kc);this.C.connect(this.h);this.kc.connect(this.i)}j(){this.I.stop(0);this.I.disconnect();this.kc.disconnect();this.C.disconnect();this.i.disconnect();this.h.disconnect();
super.j()}fa(a){this.i.disconnect();this.i.connect(a);this.h.disconnect();this.h.connect(a)}Z(){return this.C}ma(a,b,c,d){switch(a){case 0:b=Math.max(Math.min(b/100,1),0);this.s[1]=b;z(this,this.i.gain,b,c,d);z(this,this.h.gain,1-b,c,d);break;case 7:this.s[0]=b,z(this,this.I.frequency,b,c,d)}}};
self.Xe=class extends A{constructor(a,b,c,d,e,f){super(a);this.ea="distortion";this.s=[b,c,d,e,f];this.C=y(this);this.Oc=y(this);this.Nc=y(this);a=d;.01>a&&(a=.01);this.Oc.gain.value=a;this.Nc.gain.value=Math.pow(1/a,.6)*e;this.i=y(this);this.i.gain.value=f;this.h=y(this);this.h.gain.value=1-f;this.Sc=this.g.createWaveShaper();this.ud=new Float32Array(65536);for(e=0;32768>e;++e)f=e/32768,a=1.05*c*b-b,d=0>f?-f:f,d<b?a=d:(d=1-Math.exp(-(1/a)*(d-b)),a=b+a*d),f=a*(0>f?-1:1),this.ud[32768+e]=f,this.ud[32768-
e-1]=-f;this.Sc.curve=this.ud;this.C.connect(this.Oc);this.C.connect(this.h);this.Oc.connect(this.Sc);this.Sc.connect(this.Nc);this.Nc.connect(this.i)}j(){this.C.disconnect();this.Oc.disconnect();this.Sc.disconnect();this.Nc.disconnect();this.i.disconnect();this.h.disconnect();super.j()}fa(a){this.i.disconnect();this.i.connect(a);this.h.disconnect();this.h.connect(a)}Z(){return this.C}ma(a,b,c,d){switch(a){case 0:b=Math.max(Math.min(b/100,1),0),this.s[4]=b,z(this,this.i.gain,b,c,d),z(this,this.h.gain,
1-b,c,d)}}};self.Ue=class extends A{constructor(a,b,c,d,e,f){super(a);this.ea="compressor";this.s=[b,c,d,e,f];this.l=this.g.createDynamicsCompressor();this.l.threshold.value=b;this.l.knee.value=c;this.l.ratio.value=d;this.l.attack.value=e;this.l.release.value=f}j(){this.l.disconnect();super.j()}fa(a){this.l.disconnect();this.l.connect(a)}Z(){return this.l}ma(){}};
self.Te=class extends A{constructor(a,b,c){super(a);this.ea="analyser";this.s=[b,c];this.l=this.g.createAnalyser();this.l.fftSize=b;this.l.smoothingTimeConstant=c;this.ze=new Float32Array(this.l.frequencyBinCount);this.Ne=new Uint8Array(b);this.Le=this.Hb=0;a=this.A;a.xb.add(this);Kb(a)}j(){this.A.xb.delete(this);this.l.disconnect();super.j()}vb(){this.l.getFloatFrequencyData(this.ze);this.l.getByteTimeDomainData(this.Ne);const a=this.l.fftSize;let b=this.Hb=0;for(var c=0;c<a;++c){let d=(this.Ne[c]-
128)/128;0>d&&(d=-d);this.Hb<d&&(this.Hb=d);b+=d*d}c=self.Nb.wf;this.Hb=c(this.Hb);this.Le=c(Math.sqrt(b/a))}fa(a){this.l.disconnect();this.l.connect(a)}Z(){return this.l}ma(){}};"use strict";async function jc(a,b){b=b.type;let c=!0;0===b?c=await kc():1===b&&(c=await lc());k(a,"permission-result",{type:b,result:c})}
async function kc(){if(!self.DeviceOrientationEvent||!self.DeviceOrientationEvent.requestPermission)return!0;try{return"granted"===await self.DeviceOrientationEvent.requestPermission()}catch(a){return console.warn("[Touch] Failed to request orientation permission: ",a),!1}}
async function lc(){if(!self.DeviceMotionEvent||!self.DeviceMotionEvent.requestPermission)return!0;try{return"granted"===await self.DeviceMotionEvent.requestPermission()}catch(a){return console.warn("[Touch] Failed to request motion permission: ",a),!1}}self.sa.Ua(class extends self.fb{constructor(a){super(a,"touch");aa(this,"request-permission",b=>jc(this,b))}});"use strict";function mc(a){a.stopPropagation()}function nc(a){13!==a.which&&27!==a.which&&a.stopPropagation()}
self.sa.Ua(class extends self.de{constructor(a){super(a,"text-input");ia(this,"scroll-to-bottom",b=>{b.scrollTop=b.scrollHeight})}Wc(a,b){let c;const d=b.type;"textarea"===d?(c=document.createElement("textarea"),c.style.resize="none"):(c=document.createElement("input"),c.type=d);c.style.position="absolute";c.autocomplete="off";c.addEventListener("pointerdown",mc);c.addEventListener("pointermove",mc);c.addEventListener("pointerrawupdate",mc);c.addEventListener("pointerup",mc);c.addEventListener("mousedown",
mc);c.addEventListener("mouseup",mc);c.addEventListener("keydown",nc);c.addEventListener("keyup",nc);c.addEventListener("click",e=>{e.stopPropagation();ja(this,"click",a)});c.addEventListener("dblclick",e=>{e.stopPropagation();ja(this,"dblclick",a)});c.addEventListener("input",()=>ha(this,"change",a,{text:c.value}));b.id&&(c.id=b.id);b.className&&(c.className=b.className);this.Sb(c,b);return c}Sb(a,b){a.value=b.text;a.placeholder=b.placeholder;a.title=b.title;a.disabled=!b.isEnabled;a.readOnly=b.isReadOnly;
a.spellcheck=b.spellCheck;b=b.maxLength;0>b?a.removeAttribute("maxlength"):a.setAttribute("maxlength",b)}});"use strict";function oc(){}function pc(a){window.C3_RegisterSW&&window.OfflineClientInfo&&window.OfflineClientInfo.SetMessageCallback(b=>k(a,"sw-message",b.data))}
function qc(a){a=a.orientation;if(screen.orientation&&screen.orientation.lock)screen.orientation.lock(a).catch(b=>console.warn("[Construct] Failed to lock orientation: ",b));else try{let b=!1;screen.lockOrientation?b=screen.lockOrientation(a):screen.webkitLockOrientation?b=screen.webkitLockOrientation(a):screen.mozLockOrientation?b=screen.mozLockOrientation(a):screen.msLockOrientation&&(b=screen.msLockOrientation(a));b||console.warn("[Construct] Failed to lock orientation")}catch(b){console.warn("[Construct] Failed to lock orientation: ",
b)}}
self.sa.Ua(class extends self.fb{constructor(a){super(a,"browser");this.B="";ba(this,[["get-initial-state",b=>{this.B=b.exportType;return{location:location.toString(),isOnline:!!navigator.onLine,referrer:document.referrer,title:document.title,isCookieEnabled:!!navigator.cookieEnabled,screenWidth:screen.width,screenHeight:screen.height,windowOuterWidth:window.outerWidth,windowOuterHeight:window.outerHeight,isConstructArcade:"undefined"!==typeof window.is_scirra_arcade}}],["ready-for-sw-messages",()=>
pc(this)],["alert",b=>this.nd(b)],["close",()=>{navigator.app&&navigator.app.exitApp?navigator.app.exitApp():navigator.device&&navigator.device.exitApp?navigator.device.exitApp():window.close()}],["set-focus",b=>this.pd(b)],["vibrate",b=>{navigator.vibrate&&navigator.vibrate(b.pattern)}],["lock-orientation",b=>qc(b)],["unlock-orientation",()=>{try{screen.orientation&&screen.orientation.unlock?screen.orientation.unlock():screen.unlockOrientation?screen.unlockOrientation():screen.webkitUnlockOrientation?
screen.webkitUnlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()}catch(b){}}],["navigate",b=>{var c=b.type;if("back"===c)navigator.app&&navigator.app.backHistory?navigator.app.backHistory():window.history.back();else if("forward"===c)window.history.forward();else if("reload"===c)location.reload();else if("url"===c){c=b.url;const d=b.target;b=b.exportType;self.cordova&&self.cordova.InAppBrowser?self.cordova.InAppBrowser.open(c,
"_system"):"preview"===b||this.o.Wa()?window.open(c,"_blank"):this.xg||(2===d?window.top.location=c:1===d?window.parent.location=c:window.location=c)}else"new-window"===c&&(c=b.url,b=b.tag,self.cordova&&self.cordova.InAppBrowser?self.cordova.InAppBrowser.open(c,"_system"):window.open(c,b))}],["request-fullscreen",b=>{if(this.o.Wa()||"macos-wkwebview"===this.B)self.sa.uc(!0),this.o.lb({type:"set-fullscreen",fullscreen:!0});else{const c={navigationUI:"auto"};b=b.navUI;1===b?c.navigationUI="hide":2===
b&&(c.navigationUI="show");b=document.documentElement;let d;b.requestFullscreen?d=b.requestFullscreen(c):b.mozRequestFullScreen?d=b.mozRequestFullScreen(c):b.msRequestFullscreen?d=b.msRequestFullscreen(c):b.webkitRequestFullScreen&&(d="undefined"!==typeof Element.ALLOW_KEYBOARD_INPUT?b.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):b.webkitRequestFullScreen());d instanceof Promise&&d.catch(oc)}}],["exit-fullscreen",()=>{if(this.o.Wa()||"macos-wkwebview"===this.B)self.sa.uc(!1),this.o.lb({type:"set-fullscreen",
fullscreen:!1});else{let b;document.exitFullscreen?b=document.exitFullscreen():document.mozCancelFullScreen?b=document.mozCancelFullScreen():document.msExitFullscreen?b=document.msExitFullscreen():document.webkitCancelFullScreen&&(b=document.webkitCancelFullScreen());b instanceof Promise&&b.catch(oc)}}],["set-hash",b=>{location.hash=b.hash}],["set-document-css-style",b=>{const c=b.prop,d=b.value;var e=b.selector;b=b["is-all"];try{if(e)if(b)var f=Array.from(document.querySelectorAll(e));else{var g=
document.querySelector(e);f=g?[g]:[]}else f=[document.documentElement];e=f;for(const h of e)c.startsWith("--")?h.style.setProperty(c,d):h.style[c]=d}catch(h){console.warn("[Browser] Failed to set style: ",h)}}],["get-document-css-style",b=>{{const d=b.prop;b=b.selector;try{const e=document.querySelector(b);var c=e?{isOk:!0,result:window.getComputedStyle(e).getPropertyValue(d)}:{isOk:!1}}catch(e){console.warn("[Browser] Failed to get style: ",e),c={isOk:!1}}}return c}]]);window.addEventListener("online",
()=>{k(this,"online-state",{isOnline:!0})});window.addEventListener("offline",()=>{k(this,"online-state",{isOnline:!1})});window.addEventListener("hashchange",()=>{k(this,"hashchange",{location:location.toString()})});document.addEventListener("backbutton",()=>{k(this,"backbutton")})}nd(a){alert(a.message)}pd(a){a=a.isFocus;if("nwjs"===this.B){const b="nwjs"===this.B?nw.Window.get():null;a?b.focus():b.blur()}else a?window.focus():window.blur()}});"use strict";const rc={};let B=null,sc=null;
const tc={banner:"ca-app-pub-3940256099942544/2934735716",interstitial:"ca-app-pub-3940256099942544/4411468910",rewarded:"ca-app-pub-3940256099942544/1712485313",rewardedInterstitial:"ca-app-pub-3940256099942544/6978759866"};let uc=!1;function vc(a,b){rc[a]=b;self.admob.configRequest(rc)}
async function wc(){if("android"===self.cordova.platformId)return self.$d(self.device.uuid).toUpperCase();if("ios"===self.cordova.platformId){const a=await self.cordova.plugins.idfa.getInfo();if(!a.trackingLimited)return uc=!0,self.$d(a.idfa).toUpperCase()}}
self.cb={F:function(a,b){a(null,b)},v:function(a,b){a(b,null)},va:async function(a,b){b="undefined"!==typeof b?b:B.debug;return sc?sc:sc=new Promise(c=>{document.addEventListener("deviceready",async()=>{try{const d=setTimeout(()=>{c(!1);a("failure to initialize",null)},5E3);await self.admob.start();clearTimeout(d);if(b){const e=await wc();vc("testDeviceIds",[e])}c(!0)}catch(d){c(!1),a("Initialization failure",null)}})})},fd:vc,xf:function(a,b,c,d,e,f,g){B||(B={id:a,lg:b,kg:c,og:d,Bg:e,debug:f,fg:g},
Object.freeze(B))},qf:function(){return!!B},oc:function(a,b){if("android"===self.cordova.platformId)return a;if("ios"===self.cordova.platformId){const c=!!tc[b];return B.debug&&!uc&&c?(console.log("[C3 advert]","USING TEST AD UNITS"),tc[b]):a}},get eb(){return B},get zf(){return wc()}};"use strict";const xc=self.cb,yc=xc.F,C=xc.v,D={get S(){return self.admob.Events.bannerLoad},get T(){return self.admob.Events.bannerLoadFail}};
async function zc(a){var b=F;if(!b.D)return C(a,"banner ad not created");if(b.G)return C(a,"banner ad still loading");if(!b.H)return yc(a,"banner ad not being shown");await b.D.hide();b.H=!1;yc(a,"banner ad hidden")}
class Ac{constructor(a,b,c,d){if(!a)return C(d,"Unit ID not specified");if(!b)return C(d,"Ad size not specified");if(!c)return C(d,"Ad position not specified");this.nb=a;this.cg=c;this.Sa="";switch(b){case "portrait":this.Sa=5;break;case "landscape":this.Sa=5;break;case "standard":this.Sa=0;break;case "large":this.Sa=1;break;case "medium":this.Sa=2;break;case "full":this.Sa=3;break;case "leaderboard":this.Sa=4;break;default:this.Sa=5}this.D=null;this.H=this.G=!1;this.Cb=this.Md=this.Pc=null}j(){this.Pc&&
this.Pc();this.D=this.Cb=this.Md=this.Pc=null}U(a,b){if(this.D)return yc(b,"banner ad loaded");Bc.call(this,b);a={adUnitId:xc.oc(this.nb,"banner"),size:this.Sa,position:this.cg,offset:0,npa:"NON_PERSONALIZED"===a?"1":"0"};this.D=new self.admob.BannerAd(a);this.Md=new Promise(c=>this.Cb=c);this.D.load()}async Ya(a){this.D?this.G?C(a,"banner ad still loading"):this.H?yc(a,"banner ad already shown"):(await this.D.show(),this.H=!0,yc(a,"banner shown")):C(a,"banner ad not created")}}
function Bc(a){const b=()=>{this.G=!1;yc(a,"banner ad loaded");document.removeEventListener(D.S,b);document.removeEventListener(D.T,c);this.Cb&&this.Cb()},c=()=>{this.D=null;this.G=!1;C(a,"banner ad failed to load");document.removeEventListener(D.S,b);document.removeEventListener(D.T,c);this.Cb&&this.Cb()};this.Pc=()=>{document.removeEventListener(D.S,b);document.removeEventListener(D.T,c);document.removeEventListener(D.S,b);document.removeEventListener(D.T,c)};document.addEventListener(D.S,b);document.addEventListener(D.T,
c)}self.ef=Ac;"use strict";const Cc=self.cb,Dc=Cc.F,Ec=Cc.v,G={get S(){return self.admob.Events.interstitialLoad},get T(){return self.admob.Events.interstitialLoadFail},get ta(){return self.admob.Events.interstitialShow},get ua(){return self.admob.Events.interstitialShowFail},get La(){return self.admob.Events.interstitialDismiss}};
class Fc{constructor(a,b){if(!a)return Ec(b,"Unit ID not specified");this.nb=a;this.D=null;this.O=this.H=this.G=!1;this.ia=null;this.m=this.K();document.addEventListener(G.La,async()=>{this.H=!1;this.G=!0;this.O=!1;this.m=null;this.m=this.K();Gc.call(this);self.C3MobileAdvertsAPI.real.resumeRuntime();await this.D.load()})}K(){return this.m?this.m:this.m=new Promise(a=>{this.ia=a})}Xa(a){this.O=a;this.ia&&this.ia(a);this.ia=this.m=null;this.m=this.K()}U(a,b){a={adUnitId:Cc.oc(this.nb,"interstitial"),
npa:"NON_PERSONALIZED"===a?"1":"0"};this.G=!0;this.O=this.H=!1;this.m=null;this.m=this.K();this.D=new self.admob.InterstitialAd(a);Gc.call(this,b);this.D.load()}Va(a,b){a?Cc.F(b,"interstitial ad load"):Cc.v(b,"interstitial ad failed to load")}async Ya(a){this.D?this.H?Dc(a,"interstitial ad already shown"):(this.G&&await this.K(),await (async()=>{this.O?(Hc.call(this,a),await this.D.show()):(Gc.call(this),this.O=!1,this.m=null,this.D.load(),await this.K(),this.O?(Hc.call(this,a),await this.D.show()):
Ec(a,"interstitial ad failed to load"))})()):Ec(a,"interstitial ad not created")}}function Gc(a){const b=()=>{this.G=!1;this.Xa(!0);a&&Dc(a,"interstitial ad load");document.removeEventListener(G.S,b);document.removeEventListener(G.T,c)},c=()=>{this.G=!1;this.Xa(!1);a&&Ec(a,"interstitial ad failed to load");document.removeEventListener(G.S,b);document.removeEventListener(G.T,c)};document.addEventListener(G.S,b);document.addEventListener(G.T,c)}
function Hc(a){const b=()=>{this.H=!0;self.C3MobileAdvertsAPI.real.suspendRuntime();a&&Dc(a,"interstitial ad show");document.removeEventListener(G.ta,b);document.removeEventListener(G.ua,c)},c=()=>{this.H=!1;a&&Ec(a,"interstitial ad failed to show");document.removeEventListener(G.ta,b);document.removeEventListener(G.ua,c)};document.addEventListener(G.ta,b);document.addEventListener(G.ua,c)}self.jf=Fc;"use strict";
const Ic=self.cb,Jc=Ic.F,Kc=Ic.v,H={get S(){return self.admob.Events.rewardedLoad},get T(){return self.admob.Events.rewardedLoadFail},get ta(){return self.admob.Events.rewardedShow},get ua(){return self.admob.Events.rewardedShowFail},get La(){return self.admob.Events.rewardedDismiss},get ib(){return self.admob.Events.rewardedReward}};
class Lc{constructor(a,b){if(!a)return Kc(b,"Unit ID not specified");this.nb=a;this.D=null;this.O=this.H=this.G=!1;this.ia=null;this.m=this.K();this.xa=null}K(){return this.m?this.m:this.m=new Promise(a=>{this.ia=a})}Xa(a){this.O=a;this.ia&&this.ia(a);this.ia=this.m=null;this.m=this.K()}U(a,b){a={adUnitId:Ic.oc(this.nb,"rewarded"),npa:"NON_PERSONALIZED"===a?"1":"0"};this.G=!0;this.O=this.H=!1;this.m=null;this.m=this.K();this.D=new self.admob.RewardedAd(a);Mc.call(this,b);this.D.load()}Va(a,b){a?Ic.F(b,
"rewarded ad load"):Ic.v(b,"rewarded ad failed to load")}async Ya(a){this.D?this.H?Jc(a,"rewarded ad already shown"):(this.G&&await this.K(),await (async()=>{this.O?(Nc.call(this,a),await this.D.show()):(Mc.call(this),this.O=!1,this.m=null,this.D.load(),await this.K(),this.O?(Nc.call(this,a),await this.D.show()):Kc(a,"rewarded ad failed to load"))})()):Kc(a,"rewarded ad not created")}}
function Mc(a){const b=()=>{this.G=!1;this.Xa(!0);a&&Jc(a,"rewarded ad load");document.removeEventListener(H.S,b);document.removeEventListener(H.T,c)},c=()=>{this.G=!1;this.Xa(!1);a&&Kc(a,"rewarded ad failed to load");document.removeEventListener(H.S,b);document.removeEventListener(H.T,c)};document.addEventListener(H.S,b);document.addEventListener(H.T,c)}
function Nc(a){const b=()=>{this.H=!0;self.C3MobileAdvertsAPI.real.suspendRuntime()},c=f=>{this.xa=f.reward},d=()=>{this.H=!1;a&&Kc(a,"rewarded ad failed to show");document.removeEventListener(H.ta,b);document.removeEventListener(H.ua,d);document.removeEventListener(H.ib,c);document.removeEventListener(H.La,e)},e=()=>{if(null!==this.xa){const f=String(this.xa.type),g=String(this.xa.amount);a&&Jc(a,JSON.stringify([f,g]))}else a&&Kc(a,"closed with no reward");this.xa=null;this.H=!1;this.G=!0;this.O=
!1;this.m=null;this.m=this.K();Mc.call(this);self.C3MobileAdvertsAPI.real.resumeRuntime();this.D.load();document.removeEventListener(H.ta,b);document.removeEventListener(H.ua,d);document.removeEventListener(H.ib,c);document.removeEventListener(H.La,e)};document.addEventListener(H.ta,b);document.addEventListener(H.ua,d);document.addEventListener(H.ib,c);document.addEventListener(H.La,e)}self.kf=Lc;"use strict";
const Oc=self.cb,Pc=Oc.F,Qc=Oc.v,I={get S(){return self.admob.Events.rewardedInterstitialLoad},get T(){return self.admob.Events.rewardedInterstitialLoadFail},get ta(){return self.admob.Events.rewardedInterstitialShow},get ua(){return self.admob.Events.rewardedInterstitialShowFail},get La(){return self.admob.Events.rewardedInterstitialDismiss},get ib(){return self.admob.Events.rewardedInterstitialReward}};
class Rc{constructor(a,b){if(!a)return Qc(b,"Unit ID not specified");this.nb=a;this.D=null;this.O=this.H=this.G=!1;this.ia=null;this.m=this.K();this.xa=null}K(){return this.m?this.m:this.m=new Promise(a=>{this.ia=a})}Xa(a){this.O=a;this.ia&&this.ia(a);this.ia=this.m=null;this.m=this.K()}U(a,b){a={adUnitId:Oc.oc(this.nb,"rewardedInterstitial"),npa:"NON_PERSONALIZED"===a?"1":"0"};this.G=!0;this.O=this.H=!1;this.m=null;this.m=this.K();this.D=new self.admob.RewardedInterstitialAd(a);Sc.call(this,b);this.D.load()}Va(a,
b){a?Oc.F(b,"rewarded interstitial ad load"):Oc.v(b,"rewarded interstitial ad failed to load")}async Ya(a){this.D?this.H?Pc(a,"rewarded interstitial ad already shown"):(this.G&&await this.K(),await (async()=>{this.O?(Tc.call(this,a),await this.D.show()):(Sc.call(this),this.O=!1,this.m=null,this.D.load(),await this.K(),this.O?(Tc.call(this,a),await this.D.show()):Qc(a,"rewarded interstitial ad failed to load"))})()):Qc(a,"rewarded interstitial ad not created")}}
function Sc(a){const b=()=>{this.G=!1;this.Xa(!0);a&&Pc(a,"rewarded interstitial ad load");document.removeEventListener(I.S,b);document.removeEventListener(I.T,c)},c=()=>{this.G=!1;this.Xa(!1);a&&Qc(a,"rewarded interstitial ad failed to load");document.removeEventListener(I.S,b);document.removeEventListener(I.T,c)};document.addEventListener(I.S,b);document.addEventListener(I.T,c)}
function Tc(a){const b=()=>{this.H=!0;self.C3MobileAdvertsAPI.real.suspendRuntime()},c=f=>{this.xa=f.reward},d=()=>{this.H=!1;a&&Qc(a,"rewarded interstitial ad failed to show");document.removeEventListener(I.ta,b);document.removeEventListener(I.ua,d);document.removeEventListener(I.ib,c);document.removeEventListener(I.La,e)},e=()=>{if(null!==this.xa){const f=String(this.xa.type),g=String(this.xa.amount);a&&Pc(a,JSON.stringify([f,g]))}else a&&Qc(a,"closed with no reward");this.xa=null;this.H=!1;this.G=
!0;this.O=!1;this.m=null;this.m=this.K();Sc.call(this);self.C3MobileAdvertsAPI.real.resumeRuntime();this.D.load();document.removeEventListener(I.ta,b);document.removeEventListener(I.ua,d);document.removeEventListener(I.ib,c);document.removeEventListener(I.La,e)};document.addEventListener(I.ta,b);document.addEventListener(I.ua,d);document.addEventListener(I.ib,c);document.addEventListener(I.La,e)}self.lf=Rc;"use strict";
const Uc=self.cb,Vc=Uc.F,Wc=Uc.v,Xc=self.cordova?"ios"===self.cordova.platformId:!1,Yc=self.cordova?"android"===self.cordova.platformId:!1;async function Zc(){Xc&&await self.admob.requestTrackingAuthorization()}
async function $c(a){if(Yc)return a.Ka="not-determined";const b=self.cordova.plugins.idfa,c=await b.getInfo();if(!c.trackingLimited)return a.Ka="authorized";switch(c.trackingPermission){case b.TRACKING_PERMISSION_NOT_DETERMINED:return a.Ka="not-determined";case b.TRACKING_PERMISSION_RESTRICTED:return a.Ka="denied";case b.TRACKING_PERMISSION_DENIED:return a.Ka="denied";case b.TRACKING_PERMISSION_AUTHORIZED:return a.Ka="authorized"}}async function ad(a){await bd(a,"always",!0)}
async function cd(a){var b=J;Yc?Vc(a,"not-determined"):Xc&&(await ed.call(b),"true"===b.Na?await Zc():(await $c(b),"not-determined"===b.Ka&&(await fd.call(b),b.Cd?await ad(b):await Zc())),await $c(b),Vc(a,b.Ka))}async function gd(a,b,c){return await hd.call(J,a,b,d=>{d?"object"===typeof d?Wc(c,d.message):Wc(c,d):Wc(c,"requestInfoUpdate error")})}async function id(a,b){await hd.call(J,a,b)}
async function bd(a,b,c=!1){await jd.call(a);switch(b){case "eu":c=await fd.call(a);kd.call(a)&&c&&await (await self.consent.loadForm()).show();break;case "always":b=await fd.call(a);const d=await ed.call(a);b&&"true"===d?await (await self.consent.loadForm()).show():b&&c&&await (await self.consent.loadForm()).show()}await jd.call(a);await ed.call(a);await ld.call(a)}async function md(a){await jd.call(a);await ed.call(a);await ld.call(a)}
async function nd(a){var b=J;await $c(b);Vc(a,`${b.yb}&&${b.Ka}&&${b.Na}`)}async function od(a,b){Wc(a,b)}async function pd(a){var b=J;await md(b);await $c(b);Vc(a,`${b.yb}&&${b.Ka}&&${b.Na}`)}class qd{constructor(){this.aa="UNKNOWN";this.Na="";this.Wb=0;this.yb="UNKNOWN";this.Ka="not-determined";this.Cd=!1}async ie(){Uc.eb.debug&&await self.consent.reset()}}async function fd(){return this.Cd=await self.consent.getFormStatus()===self.consent.FormStatus.Available}
async function jd(){this.Wb=await self.consent.getConsentStatus();switch(this.Wb){case 1:return this.yb="REQUIRED";case 2:return this.yb="NOT_REQUIRED";case 3:return this.yb="OBTAINED";case 0:return this.yb="UNKNOWN"}}function kd(){switch(this.Wb){case 1:return!0;case 2:return!1;case 3:return!1;case 0:return!0}}function ld(){switch(this.Wb){case 1:return this.aa="NON_PERSONALIZED";case 2:return this.aa="PERSONALIZED";case 3:return this.aa="PERSONALIZED";case 0:return this.aa="NON_PERSONALIZED"}}
async function ed(){if(Yc)switch(this.Wb){case 1:return this.Na="true";case 2:return this.Na="false";case 3:return this.Na="true";case 0:return this.Na="true"}if(Xc)return await rd.call(this)?this.Na="true":this.Na="false"}async function rd(){return new Promise(a=>{self.NativeStorage.getInt("IABTCF_gdprApplies",b=>a(b),()=>a(1))})}
async function hd(a,b,c){let d="",e=null;if(a){switch(b){case "EEA":d=self.consent.DebugGeography.EEA;break;case "NOT_EEA":d=self.consent.DebugGeography.NotEEA;break;default:d=self.consent.DebugGeography.Disabled}e=[await Uc.zf]}try{return a?await self.consent.requestInfoUpdate({yg:d,Cg:e}):await self.consent.requestInfoUpdate(),!0}catch(f){return c&&c(f),!1}}self.ff=new qd;"use strict";
const sd=(a,b)=>{let c=a[0],d=a[1],e=a[2],f=a[3];c=K(d&e|~d&f,c,d,b[0],7,-680876936);f=K(c&d|~c&e,f,c,b[1],12,-389564586);e=K(f&c|~f&d,e,f,b[2],17,606105819);d=K(e&f|~e&c,d,e,b[3],22,-1044525330);c=K(d&e|~d&f,c,d,b[4],7,-176418897);f=K(c&d|~c&e,f,c,b[5],12,1200080426);e=K(f&c|~f&d,e,f,b[6],17,-1473231341);d=K(e&f|~e&c,d,e,b[7],22,-45705983);c=K(d&e|~d&f,c,d,b[8],7,1770035416);f=K(c&d|~c&e,f,c,b[9],12,-1958414417);e=K(f&c|~f&d,e,f,b[10],17,-42063);d=K(e&f|~e&c,d,e,b[11],22,-1990404162);c=K(d&e|~d&
f,c,d,b[12],7,1804603682);f=K(c&d|~c&e,f,c,b[13],12,-40341101);e=K(f&c|~f&d,e,f,b[14],17,-1502002290);d=K(e&f|~e&c,d,e,b[15],22,1236535329);c=K(d&f|e&~f,c,d,b[1],5,-165796510);f=K(c&e|d&~e,f,c,b[6],9,-1069501632);e=K(f&d|c&~d,e,f,b[11],14,643717713);d=K(e&c|f&~c,d,e,b[0],20,-373897302);c=K(d&f|e&~f,c,d,b[5],5,-701558691);f=K(c&e|d&~e,f,c,b[10],9,38016083);e=K(f&d|c&~d,e,f,b[15],14,-660478335);d=K(e&c|f&~c,d,e,b[4],20,-405537848);c=K(d&f|e&~f,c,d,b[9],5,568446438);f=K(c&e|d&~e,f,c,b[14],9,-1019803690);
e=K(f&d|c&~d,e,f,b[3],14,-187363961);d=K(e&c|f&~c,d,e,b[8],20,1163531501);c=K(d&f|e&~f,c,d,b[13],5,-1444681467);f=K(c&e|d&~e,f,c,b[2],9,-51403784);e=K(f&d|c&~d,e,f,b[7],14,1735328473);d=K(e&c|f&~c,d,e,b[12],20,-1926607734);c=K(d^e^f,c,d,b[5],4,-378558);f=K(c^d^e,f,c,b[8],11,-2022574463);e=K(f^c^d,e,f,b[11],16,1839030562);d=K(e^f^c,d,e,b[14],23,-35309556);c=K(d^e^f,c,d,b[1],4,-1530992060);f=K(c^d^e,f,c,b[4],11,1272893353);e=K(f^c^d,e,f,b[7],16,-155497632);d=K(e^f^c,d,e,b[10],23,-1094730640);c=K(d^
e^f,c,d,b[13],4,681279174);f=K(c^d^e,f,c,b[0],11,-358537222);e=K(f^c^d,e,f,b[3],16,-722521979);d=K(e^f^c,d,e,b[6],23,76029189);c=K(d^e^f,c,d,b[9],4,-640364487);f=K(c^d^e,f,c,b[12],11,-421815835);e=K(f^c^d,e,f,b[15],16,530742520);d=K(e^f^c,d,e,b[2],23,-995338651);c=K(e^(d|~f),c,d,b[0],6,-198630844);f=K(d^(c|~e),f,c,b[7],10,1126891415);e=K(c^(f|~d),e,f,b[14],15,-1416354905);d=K(f^(e|~c),d,e,b[5],21,-57434055);c=K(e^(d|~f),c,d,b[12],6,1700485571);f=K(d^(c|~e),f,c,b[3],10,-1894986606);e=K(c^(f|~d),e,
f,b[10],15,-1051523);d=K(f^(e|~c),d,e,b[1],21,-2054922799);c=K(e^(d|~f),c,d,b[8],6,1873313359);f=K(d^(c|~e),f,c,b[15],10,-30611744);e=K(c^(f|~d),e,f,b[6],15,-1560198380);d=K(f^(e|~c),d,e,b[13],21,1309151649);c=K(e^(d|~f),c,d,b[4],6,-145523070);f=K(d^(c|~e),f,c,b[11],10,-1120210379);e=K(c^(f|~d),e,f,b[2],15,718787259);d=K(f^(e|~c),d,e,b[9],21,-343485551);a[0]=c+a[0]&4294967295;a[1]=d+a[1]&4294967295;a[2]=e+a[2]&4294967295;a[3]=f+a[3]&4294967295},K=(a,b,c,d,e,f)=>{b=(b+a&4294967295)+(d+f&4294967295)&
4294967295;return(b<<e|b>>>32-e)+c&4294967295},td=a=>{const b=a.length,c=[1732584193,-271733879,-1732584194,271733878];let d;for(d=64;d<=a.length;d+=64){var e=a.substring(d-64,d);const f=[];for(let g=0;64>g;g+=4)f[g>>2]=e.charCodeAt(g)+(e.charCodeAt(g+1)<<8)+(e.charCodeAt(g+2)<<16)+(e.charCodeAt(g+3)<<24);sd(c,f)}a=a.substring(d-64);e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<a.length;d++)e[d>>2]|=a.charCodeAt(d)<<(d%4<<3);e[d>>2]|=128<<(d%4<<3);if(55<d)for(sd(c,e),d=0;16>d;d++)e[d]=0;e[14]=8*b;
sd(c,e);return c},ud="0123456789abcdef".split(""),vd=a=>{for(let c=0;c<a.length;c++){var b=a[c];let d="";for(let e=0;4>e;e++)d+=ud[b>>8*e+4&15]+ud[b>>8*e&15];a[c]=d}return a.join("")};vd(td("hello"));self.$d=a=>vd(td(a));"use strict";const L=self.cb,J=self.ff,wd=self.ef,xd=self.jf,yd=self.kf,zd=self.lf;let F=null,M=null,N=null,P=null,Q=null;
const Ad={CreateBannerAdvert:async(a,b,c,d,e,f)=>{await L.va(f,c)&&(e&&F&&(await F.Md,await zc(()=>!0),F.j(),F=null),c=await J.aa,F||(F=new wd(a,b,d,f)),F.U(c,f))},ShowBannerAdvert:async a=>{if(!F)return L.v(a,"banner ad not created");F.Ya(a)},HideBannerAdvert:async a=>{if(!F)return L.v(a,"banner ad not created");zc(a)},CreateInterstitialAdvert:async(a,b,c)=>{if(M){if(M.H)return L.F(c,"interstitial ad already showing");M.G?(a=await M.K(),M.Va(a,c)):(a=await J.aa,M.U(a,c))}else await L.va(c,b)&&(b=
await J.aa,M=new xd(a,c),M.U(b,c))},ShowInterstitialAdvert:async a=>{if(!M)return L.v(a,"interstitial ad not created");M.Ya(a)},CreateVideoAdvert:async(a,b,c)=>{if(N||P){if(P){if(P.H)return L.F(c,"rewarded ad already showing");P.G?(a=await P.K(),P.Va(a,c)):(a=await J.aa,P.U(a,c));return}if(N){if(N.H)return L.F(c,"rewarded ad already showing");N.G?(a=await N.K(),N.Va(a,c)):(a=await J.aa,N.U(a,c));return}}await L.va(c,b)&&(b=await J.aa,N=new yd(a,c),N.U(b,c))},ShowVideoAdvert:async a=>{if(!N)return L.v(a,
"video ad not created");N.Ya(a)},CreateRewardedAdvert:async(a,b,c)=>{if(P||N){if(P){if(P.H)return L.F(c,"rewarded ad already showing");P.G?(a=await P.K(),P.Va(a,c)):(a=await J.aa,P.U(a,c));return}if(N){if(N.H)return L.F(c,"rewarded ad already showing");N.G?(a=await N.K(),N.Va(a,c)):(a=await J.aa,N.U(a,c));return}}await L.va(c,b)&&(b=await J.aa,P=new yd(a,c),P.U(b,c))},ShowRewardedAdvert:async a=>{if(!P)return L.v(a,"rewarded ad not created");P.Ya(a)},CreateRewardedInterstitialAdvert:async(a,b,c)=>
{if(Q){if(Q.H)return L.F(c,"rewarded interstitial ad already showing");Q.G?(a=await Q.K(),Q.Va(a,c)):(a=await J.aa,Q.U(a,c))}else await L.va(c,b)&&(b=await J.aa,Q=new zd(a,c),Q.U(b,c))},ShowRewardedInterstitialAdvert:async a=>{if(!Q)return L.v(a,"rewarded interstitial ad not created");Q.Ya(a)},Configure:async(a,b,c,d,e,f,g,h,m)=>{const t=!L.qf();L.xf(a,b,c,d,e,f,g);if(!await L.va(m,f))return od(m,"failure to initialize");t&&await J.ie();if(!await gd(f,g,m))return od(m,"failure to update consent information");
t?h?await bd(J,"eu"):await md(J):await bd(J,"always");await nd(m)},RequestConsent:async a=>{Ad.Configure(L.eb.id,L.eb.lg,L.eb.kg,L.eb.og,"always",L.eb.debug,L.eb.fg,!1,a)},SetMaxAdContentRating:async(a,b)=>{if(await L.va(b)){if(!a)return L.v(b,"Label not specified");try{L.fd("maxAdContentRating",a),L.F(b,"")}catch(c){L.v(b,"invalid label")}}},TagForChildDirectedTreatment:async(a,b)=>{if(await L.va(b))try{L.fd("tagForChildDirectedTreatment",1===a?!0:!1),L.F(b,"")}catch(c){L.v(b,"invalid label")}},
TagForUnderAgeOfConsent:async(a,b)=>{if(await L.va(b))try{L.fd("tagForUnderAgeOfConsent",1===a?!0:!1),L.F(b,"")}catch(c){L.v(b,"invalid label")}},RequestIDFA:async a=>{await L.va(a)&&cd(a)},StatusUpdate:async(a,b,c)=>{if(!await L.va(c,a))return od(c,"failure to initialize");await id(a,b);await pd(c)}};self.C3MobileAdvertsAPI||(self.C3MobileAdvertsAPI={});self.C3MobileAdvertsAPI.real=Ad;"use strict";const R={},S=()=>new Promise(a=>setTimeout(a,50));let Bd=null,Cd=null,Dd=null,Ed=null,Fd=null;
function V(a,b){const c=b.slice(0,-1);b=b[b.length-1];console.log(a,c);return[c,b]}R.CreateBannerAdvert=async(...a)=>{[,a]=V("CreateBannerAdvert",a);await S();Bd?a("Banner already exists"):(Bd="ready",a(null,"Created banner"))};R.ShowBannerAdvert=async(...a)=>{[,a]=V("ShowBannerAdvert",a);await S();"ready"!=Bd?a("Banner cannot be shown"):(Bd="shown",a(null,"Showed banner"))};
R.HideBannerAdvert=async(...a)=>{[,a]=V("HideBannerAdvert",a);await S();"shown"!=Bd?a("Banner cannot be hidden"):(Bd=null,a(null,"Hid banner"))};R.CreateInterstitialAdvert=async(...a)=>{[,a]=V("CreateInterstitialAdvert",a);await S();Cd?a("Intersitial already exists"):(Cd="ready",a(null,"Created interstitial"))};R.ShowInterstitialAdvert=async(...a)=>{[,a]=V("ShowInterstitialAdvert",a);await S();"ready"!=Cd?a("Cannot show interstitial"):(Cd=null,a(null,"Interstitial shown"))};
R.CreateVideoAdvert=async(...a)=>{[,a]=V("CreateVideoAdvert",a);await S();Dd?a("Video already exists"):(Dd="ready",a(null,"Created video"))};R.ShowVideoAdvert=async(...a)=>{[,a]=V("ShowVideoAdvert",a);await S();"ready"!=Dd?a("Cannot show video"):(Dd=null,a(null,'["example type", 20]'))};R.CreateRewardedAdvert=async(...a)=>{[,a]=V("CreateRewardedAdvert",a);await S();Ed?a("Rewarded already exists"):(Ed="ready",a(null,"Created rewarded"))};
R.ShowRewardedAdvert=async(...a)=>{[,a]=V("ShowRewardedAdvert",a);await S();"ready"!=Ed?a("Cannot show rewarded"):(Ed=null,a(null,'["example type", 20]'))};R.CreateRewardedInterstitialAdvert=async(...a)=>{[,a]=V("CreateRewardedInterstitialAdvert",a);await S();Fd?a("Rewarded intersitial already exists"):(Fd="ready",a(null,"Created rewarded interstitial"))};
R.ShowRewardedInterstitialAdvert=async(...a)=>{[,a]=V("ShowRewardedInterstitialAdvert",a);await S();"ready"!=Fd?a("Cannot show rewarded interstitial"):(Fd=null,a(null,"Rewarded interstitial shown"))};R.Configure=async(...a)=>{[,a]=V("Configure",a);await S();a(null,"PERSONALIZED&&true")};R.RequestConsent=async(...a)=>{[,a]=V("RequestConsent",a);await S();a(null,"PERSONALIZED&&true")};R.RequestIDFA=async(...a)=>{[,a]=V("RequestIDFA",a);await S();a(null,"authorized")};
self.C3MobileAdvertsAPI||(self.C3MobileAdvertsAPI={});self.C3MobileAdvertsAPI.fake=R;"use strict";const W=self.cb,Y={};let Gd=!1,Hd=null;
const Id=async a=>{if(!Y.webAdsScriptLoaded)return W.v(a,"advert script not loaded, likely blocked by an ad blocker"),!1;Gd||(self.adsbygoogle=self.adsbygoogle||[],self.adBreak=self.adConfig=b=>self.adsbygoogle.push(b),Gd=!0);return Hd?Hd:Hd=new Promise(b=>{self.adConfig({preloadAdBreaks:"on",onReady:()=>b(!0)})})},Jd=()=>{Y.suspendRuntime&&Y.suspendRuntime()},Kd=()=>{Y.resumeRuntime&&Y.resumeRuntime()};Y.CreateBannerAdvert=async(a,b,c,d,e,f)=>{W.v(f,"banner ads not supported in web platform")};
Y.ShowBannerAdvert=async a=>{W.v(a,"banner ads not supported in web platform")};Y.HideBannerAdvert=async a=>{W.v(a,"banner ads not supported in web platform")};Y.CreateInterstitialAdvert=async(a,b,c)=>{await Id(c)&&W.F(c,"interstitial ad created")};Y.ShowInterstitialAdvert=async a=>{await Id(a)&&self.adBreak({type:"next",beforeAd:()=>Jd(),afterAd:()=>Kd(),adBreakDone:b=>{switch(b.breakStatus){case "viewed":case "dismissed":W.F(a,"interstitial ad show");break;default:console.table(b),W.v(a,"interstitial ad failed to show")}}})};
Y.CreateVideoAdvert=async(a,b,c)=>{W.v(c,"video ads are deprecated")};Y.ShowVideoAdvert=async a=>{W.v(a,"video ads are deprecated")};Y.CreateRewardedAdvert=async(a,b,c)=>{await Id(c)&&W.F(c,"rewarded ad created")};
Y.ShowRewardedAdvert=async a=>{await Id(a)&&self.adBreak({type:"reward",beforeAd:()=>Jd(),afterAd:()=>Kd(),adBreakDone:b=>{switch(b.breakStatus){case "viewed":case "dismissed":W.F(a,"rewarded ad show");break;case "ignored":W.v(a,"rewarded ad ignored");break;default:console.table(b),W.v(a,"rewarded ad failed to show")}},beforeReward:b=>{b()},adDismissed:()=>{W.v(a,"closed with no reward")},adViewed:()=>{W.F(a,JSON.stringify(["Reward",1]))}})};
Y.CreateRewardedInterstitialAdvert=async(a,b,c)=>{await Id(c)&&W.F(c,"rewarded interstitial ad created")};
Y.ShowRewardedInterstitialAdvert=async a=>{await Id(a)&&self.adBreak({type:"reward",beforeAd:()=>Jd(),afterAd:()=>Kd(),adBreakDone:b=>{switch(b.breakStatus){case "viewed":case "dismissed":W.F(a,"rewarded interstitial ad show");break;case "ignored":W.v(a,"rewarded interstitial ad ignored");break;default:console.table(b),W.v(a,"rewarded interstitial ad failed to show")}},beforeReward:b=>{b()},adDismissed:()=>{W.v(a,"closed with no reward")},adViewed:()=>{W.F(a,JSON.stringify(["Reward",1]))}})};
Y.Configure=async(a,b,c,d,e,f,g,h,m)=>{Y.webAdsScriptLoaded?W.F(m,"UNKNOWN&&not-determined&&true"):W.v(m,"advert script not loaded, likely blocked by an ad blocker")};Y.RequestConsent=async a=>{W.F(a,"UNKNOWN&&not-determined&&true")};Y.SetMaxAdContentRating=async(a,b)=>{W.v(b,"setting max ad content rating not supported in web platform")};Y.TagForChildDirectedTreatment=async(a,b)=>{W.v(b,"tagging for children not supported in web platform")};Y.TagForUnderAgeOfConsent=async(a,b)=>{W.v(b,"tagging for under age of consent not supported in web platform")};
Y.RequestIDFA=async a=>{W.F(a,"not-determined")};Y.StatusUpdate=async(a,b,c)=>{W.F(c,"UNKNOWN&&not-determined&&true")};self.C3MobileAdvertsAPI||(self.C3MobileAdvertsAPI={});self.C3MobileAdvertsAPI.web=Y;"use strict";let Ld=!1;
async function Md(a,b,c){const d=Nd();d.suspendRuntime||(d.suspendRuntime=()=>{a.o.hb("runtime","visibilitychange",{hidden:!0})});d.resumeRuntime||(d.resumeRuntime=()=>{a.o.hb("runtime","visibilitychange",{hidden:!1})});if(!d)throw Ld||(Ld=!0,console.warn("The Mobile Advert plugin is not loaded. Please note that it only works in Android or iOS exports")),Error("advert plugin not loaded");return new Promise((e,f)=>{(0,d[b])(...c,(g,h)=>{g?f(g):e(h)})})}
async function Od(a,b=null){const c=Nd();c.webAdsScriptLoaded=!1;return new Promise(d=>{const e=document.createElement("script");if(b)for(let f in b)e.setAttribute(f,b[f]);e.onload=function(){c.webAdsScriptLoaded=!0;d()};e.onerror=function(){c.webAdsScriptLoaded=!1;d()};e.src=a;document.head.appendChild(e)})}function Nd(){if(self.cordova)return self.C3MobileAdvertsAPI.real;if(!self.cordova)return self.C3MobileAdvertsAPI.web}
self.sa.Ua(class extends self.fb{constructor(a){super(a,"advert");a=b=>[b,c=>Md(this,b,c)];ba(this,[a("CreateBannerAdvert"),a("ShowBannerAdvert"),a("HideBannerAdvert"),a("CreateInterstitialAdvert"),a("ShowInterstitialAdvert"),a("CreateVideoAdvert"),a("ShowVideoAdvert"),a("CreateRewardedAdvert"),a("ShowRewardedAdvert"),a("CreateRewardedInterstitialAdvert"),a("ShowRewardedInterstitialAdvert"),a("Configure"),a("RequestConsent"),a("SetUserPersonalisation"),a("SetMaxAdContentRating"),a("TagForChildDirectedTreatment"),
a("TagForUnderAgeOfConsent"),a("RequestIDFA"),a("StatusUpdate"),(b=>[b,c=>Od(c[0],c[1])])("AddScript")])}});"use strict";function Z(a){a.stopPropagation()}
self.sa.Ua(class extends self.de{constructor(a){super(a,"button")}Wc(a,b){const c=document.createElement("input");var d=c;b.isCheckbox?(c.type="checkbox",d=document.createElement("label"),d.appendChild(c),d.appendChild(document.createTextNode("")),d.style.fontFamily="sans-serif",d.style.userSelect="none",d.style.webkitUserSelect="none",d.style.display="inline-block",d.style.color="black"):c.type="button";d.style.position="absolute";d.addEventListener("pointerdown",Z);d.addEventListener("pointermove",
Z);d.addEventListener("pointerrawupdate",Z);d.addEventListener("pointerup",Z);d.addEventListener("mousedown",Z);d.addEventListener("mouseup",Z);d.addEventListener("keydown",Z);d.addEventListener("keyup",Z);c.addEventListener("click",()=>ja(this,"click",a,{isChecked:c.checked}));b.id&&(c.id=b.id);b.className&&(c.className=b.className);this.Sb(d,b);return d}jd(a){return"input"===a.tagName.toLowerCase()?a:a.firstChild}Sb(a,b){const c="input"===a.tagName.toLowerCase()?a:a.firstChild;c.checked=b.isChecked;
c.disabled=!b.isEnabled;a.title=b.title;a===c?c.value=b.text:a.lastChild.textContent=b.text}});"use strict";function Pd(a){a.ja=window.FB;let b=location.pathname;"/"!==b.substr(b.length-1)&&(b=b.substr(0,b.lastIndexOf("/")+1));a.ja.init({version:"v3.0",appId:a.xc,status:!0,cookie:!0,xfbml:!1});a.ja.Event.subscribe("auth.login",c=>Qd(a,c));a.ja.Event.subscribe("auth.logout",()=>{a.Fa=!1;a.sd="";a.zd="";a.yd="";a.Kd="";k(a,"logout")});a.ja.getLoginStatus(c=>Qd(a,c));a.Ga&&(a.Ga(),a.Ga=null)}
async function Rd(a,b){a.xc=b.appId;if(!a.xc)return console.log("[Facebook] No App ID provided. Please enter an App ID before using the object."),!1;try{return await Sd(a),!0}catch(c){return console.error("[Facebook] Error loading Facebook API: ",c),!1}}function Td(a,b){a.Fa||a.ja.login(c=>Qd(a,c),{scope:b.permissions})}function Ud(a){a.Fa&&a.ja.logout(()=>{})}function Vd(a){a.Fa&&a.ja.ui({method:"feed"},b=>{b&&b.error&&console.error("[Facebook] Error prompting wall post: ",b.error)})}
function Wd(a){a.Fa&&a.ja.ui({method:"feed",link:"https://apps.facebook.com/"+a.xc+"/"},b=>{b&&b.error&&console.error("[Facebook] Error prompting to share app: ",b.error)})}function Xd(a,b){a.Fa&&a.ja.ui({method:"feed",link:b.url},c=>{c&&c.error&&console.error("[Facebook] Error prompting to share link: ",c.error)})}function Yd(a,b){a.Fa&&a.ja.api("/me/feed","POST",{method:"stream.publish",message:b.message},c=>{c&&c.error&&console.error("[Facebook] Error publishing to wall: ",c.error)})}
function Zd(a,b){if(a.Fa){var c={method:"stream.publish",message:b.message,link:b.url,name:b.name,caption:b.caption,description:b.description};b.picture&&(c.picture=b.picture);a.ja.api("/me/feed","POST",c,d=>{d&&d.error&&console.error("[Facebook] Error publishing link: ",d.error)})}}
function Sd(a){return new Promise((b,c)=>{document.getElementById("facebook-jssdk")?b():(a.Ga=b,b=document.createElement("script"),b.id="facebook-jssdk",b.onerror=c,b.async=!0,b.src="//connect.facebook.net/en_US/sdk.js",document.getElementsByTagName("head")[0].appendChild(b))})}
function Qd(a,b){b.authResponse&&!a.Fa&&(a.Fa=!0,a.Vd=b.authResponse.userID,console.log("[Facebook] Logged in as user ID: "+a.Vd),a.sd=b.authResponse.accessToken,k(a,"login",{userId:a.Vd,accessToken:a.sd}),a.ja.api("/me?fields=name,first_name,last_name",c=>{a.zd=c.name;a.yd=c.first_name;a.Kd=c.last_name;k(a,"name-available",{fullName:a.zd,firstName:a.yd,lastName:a.Kd})}))}
self.sa.Ua(class extends self.fb{constructor(a){super(a,"facebook");this.ja=null;this.xc="";this.Fa=!1;this.Kd=this.yd=this.zd=this.sd=this.Vd="";this.Ga=null;window.fbAsyncInit=()=>Pd(this);ba(this,[["load",b=>Rd(this,b)],["login",b=>Td(this,b)],["logout",()=>Ud(this)],["prompt-wall-post",()=>Vd(this)],["prompt-share-app",()=>Wd(this)],["prompt-share-link",b=>Xd(this,b)],["publish-to-wall",b=>Yd(this,b)],["publish-link",b=>Zd(this,b)],["on-cta-click",()=>{self.FbPlayableAd&&self.FbPlayableAd.onCTAClick?
(console.log("[Facebook] CTA clicked: calling FbPlayableAd.onCTAClick()"),self.FbPlayableAd.onCTAClick()):console.warn("[Facebook] CTA clicked: FbPlayableAd.onCTAClick() function not available - check running as a Playable Ad")}]])}});
